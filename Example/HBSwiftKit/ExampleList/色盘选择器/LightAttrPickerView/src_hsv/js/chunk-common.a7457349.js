(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"005f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{title:"温馨提示",type:"one",content:t.disableContent},on:{"on-ok":t.onConfirm},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}})},a=[],o=i("5530"),r=(i("a9e3"),i("8628")),s=i("2f62"),c={name:"DeviceDisabledModal",components:{Modal:r["a"]},props:{value:{type:Boolean,default:!1},isLightOn:{type:Boolean,default:function(){return!1}}},data:function(){return{isShow:!1}},methods:{onConfirm:function(){this.isShow=!1,this.$emit("input",!1)}},watch:{value:function(t){this.isShow=t}},created:function(){this.isShow=this.value},computed:Object(o["a"])(Object(o["a"])({},Object(s["c"])(["globalDeviceType","globalData","globalDataId","globalDeviceStatus","deviceDetail"])),{},{disableContent:function(){var t="设备未开启，暂不支持该操作",e=Number(this.globalDeviceStatus);return 4===e?t="设备离网，请重新入网使用":7===e?t="设备配置中，请稍等片刻":0===e&&(t="设备离线，暂时无法操作"),t}})},u=c,l=i("2877"),d=Object(l["a"])(u,n,a,!1,null,null,null);e["a"]=d.exports},"0530":function(t,e,i){"use strict";i.d(e,"b",(function(){return r}));i("caad");var n=i("4360"),a=i("da71");e["a"]={install:function(t){console.log("wingto h5 version: ",a["a"]),window.__WINGTO__||(window.__WINGTO__={noticeJsReadyStatus:!1}),t.prototype.notifyNativeReady=function(){console.log("onJsReady"),"ios"===window.__WINGTO__.platform?(window.webkit.messageHandlers.WINGTO_NATIVE.postMessage(JSON.stringify({method:"onJsReady",data:""})),window.__WINGTO__.noticeJsReadyStatus=!0):"android"===window.__WINGTO__.platform&&window.WINGTO_NATIVE&&window.WINGTO_NATIVE.onJsReady&&(window.WINGTO_NATIVE.onJsReady(),window.__WINGTO__.noticeJsReadyStatus=!0)},t.getCacheData=function(t){if(t)try{var e=JSON.parse(t);e&&n["a"].commit("setDataFromNative",{data:e}),e.tempratureColors&&e.tempratureColors.length&&n["a"].commit("changeTempratureColors",{colorList:e.tempratureColors}),e.pickerColors&&e.pickerColors.length&&n["a"].commit("changeColorPickerColors",{colorList:e.pickerColors}),e.hsvPickerColors&&e.hsvPickerColors.length&&n["a"].commit("setHsvColorFromCache",e.hsvPickerColors)}catch(i){}},t.mqttMessage=function(t){if(console.log("onReceivedMqttData strings========>",t),t)try{t=decodeURIComponent(t);var e=JSON.parse(t);console.log("onReceivedMqttData========>",e),Array.isArray(e)&&(e={data:e}),n["a"].commit("setMqttMessage",{data:e}),n["a"].dispatch("homeMqttAction",{data:e})}catch(i){console.error(i)}},t.dataSaveResult=function(t){},t.onSetHsvColor=function(t){console.log("onSetHsvColor111")},t.onPageChange=function(t){},t.onH5DataChannel=function(t){},t.onDataRefresh=function(t){},window.WINGTO_H5||(window.WINGTO_H5={getCacheData:t.getCacheData,mqttMessage:t.mqttMessage,dataSaveResult:t.dataSaveResult,onDataRefresh:t.onDataRefresh,onPageChange:t.onPageChange,onH5DataChannel:t.onH5DataChannel,onSetHsvColor:t.onSetHsvColor}),window.WINGTO_NATIVE||(window.WINGTO_NATIVE={})}};var o=["dataSave","deviceHadModify","onJsReady","onNavigateTo","onVibrate","onAuthModify","onDataChannel","onHsvColorPicker"],r=function(t,e){console.log(">>> 执行native:",t,JSON.stringify(e),"<<<"),t?o.includes(t)?"ios"===window.__WINGTO__.platform?(window.webkit.messageHandlers.WINGTO_NATIVE.postMessage(JSON.stringify({method:t,data:e})),console.log("onHsvColorPicker2:",JSON.stringify({method:t,data:e}))):"android"===window.__WINGTO__.platform&&window.WINGTO_NATIVE&&window.WINGTO_NATIVE[t]&&window.WINGTO_NATIVE[t](JSON.stringify(e)):console.error("native funcList do not contain method: ".concat(t)):console.error("function name is required")}},"068d":function(t,e,i){t.exports=i.p+"img/air_fresh_gear_moderate.1b991b77.svg"},"0c6d":function(t,e,i){"use strict";i.d(e,"m",(function(){return rt})),i.d(e,"j",(function(){return ot})),i.d(e,"D",(function(){return at})),i.d(e,"A",(function(){return nt})),i.d(e,"w",(function(){return it})),i.d(e,"z",(function(){return et})),i.d(e,"H",(function(){return tt})),i.d(e,"v",(function(){return Q})),i.d(e,"G",(function(){return K})),i.d(e,"l",(function(){return H})),i.d(e,"y",(function(){return V})),i.d(e,"x",(function(){return Y})),i.d(e,"q",(function(){return $})),i.d(e,"F",(function(){return W})),i.d(e,"h",(function(){return q})),i.d(e,"r",(function(){return U})),i.d(e,"n",(function(){return Z})),i.d(e,"k",(function(){return J})),i.d(e,"f",(function(){return z})),i.d(e,"C",(function(){return X})),i.d(e,"o",(function(){return ct})),i.d(e,"p",(function(){return st})),i.d(e,"s",(function(){return ut})),i.d(e,"u",(function(){return lt})),i.d(e,"a",(function(){return dt})),i.d(e,"b",(function(){return ht})),i.d(e,"d",(function(){return ft})),i.d(e,"e",(function(){return pt})),i.d(e,"c",(function(){return vt})),i.d(e,"t",(function(){return mt})),i.d(e,"g",(function(){return gt})),i.d(e,"B",(function(){return bt})),i.d(e,"E",(function(){return _t})),i.d(e,"i",(function(){return yt}));i("d3b7"),i("caad"),i("2532"),i("e6cf");var n=i("bc3a"),a=i.n(n),o=(i("da71"),i("0530"));a.a.defaults.retry=2,a.a.defaults.timeout=6e4,a.a.defaults.withCredentials=!0,window.__WINGTO__isOut=0,a.a.interceptors.request.use((function(t){return t.headers.common["accessToken"]=window.__WINGTO__&&window.__WINGTO__.token,t}),(function(t){return Promise.reject(t)})),a.a.interceptors.response.use((function(t){var e=t.data,i=e.errorCode,n=e.errorMsg;if("401012"===i||"010001"===i){if(window.__WINGTO__isOut>=2)return;return Object(o["b"])("onAuthModify",i),window.__WINGTO__isOut++,{data:null,error:{code:i,msg:n}}}if("801"===i)var a=setTimeout((function(){Object(o["b"])("onNavigateTo",{type:0}),a&&clearTimeout(a)}),1e3);return window.__WINGTO__isOut=0,"0"===i?{data:t.data,error:null}:{data:null,error:{code:i,msg:n}}}),(function(t){if(t.message&&t.message.includes("Network Error"))return{error:{code:-1},data:null};if(t instanceof a.a.Cancel)return!0;if(t.message&&t.message.includes("500")){var e={error:{code:500,error:t},data:null};return e}if(t.response)return{error:{code:t.response.status,error:t},data:null};if(t.message.includes("timeout")){var i=t.config;if(i.__retryCount=i.__retryCount||0,i.__retryCount>=i.retry)return{error:{code:-1},data:t};i.__retryCount+=1;var n=new Promise((function(t){setTimeout((function(){t()}),i.retryDelay||1)}));return n.then((function(){return a()(i)}))}}));var r=a.a,s="/openapi/deviceJson/deviceDetail",c="/openapi/deviceJson/colorLight/modeList",u="/openapi/deviceJson/endpointOperateLightMode",l="/openapi/deviceJson/endpointOperateZigbeeZcl",d="/openapi/sceneJson/sceneListByCondition",h="/openapi/sceneJson/sceneEndpointBindSceneId",f="/openapi/sceneJson/appOperate/",p="/openapi/deviceJson/deviceUpd",v="/openapi/deviceJson/deviceDel",m="/openapi/infoMostUsedJson/infoMostUsedAdd",g="/openapi/infoMostUsedJson/infoMostUsedRemove",b="/openapi/deviceJson/v2/goalDeviceRoomUpd",_="/openapi/deviceJson/deviceListOfLogicGroup",y="/openapi/weather/weather_v7",C="/openapi/index/usefull-scene",D="/openapi/family2Json/defaultAreaRoomList",T="/openapi/index/usefull-device",w="/openapi/deviceJson/device/page-list",E="/openapi/sceneJson/sceneListByEndpointId",k="/openapi/productCategory/productCategoryListExsitFamily",M="/openapi/deviceJson/endpointOperateAirConditioningTimedClose",S="/openapi/deviceJson/deleteAirConditioningTimedClose",O="/openapi/family2Json/familyAndAreaList",x="/openapi/device/schedule/task/list",I="/openapi/device/schedule/task/add",N="/openapi/device/schedule/task/disable/",R="/openapi/deviceJson/effect-light/enable",j="/openapi/deviceJson/effect-light/update",A="/openapi/device/electric/report/statistics",P="/openapi/deviceJson/deviceSetRead",F="/openapi/appMsgJson/appMsgUnreadCount",L="/openapi/deviceJson/onDeviceClick",B="/openapi/roomJson/roomEnvironmentInfo",G="/openapi/deviceJson/chooseSwitchScene",H=function(t){return r.get(s,{params:t})},V=function(t){return r.get(c,{params:t})},Y=function(t){return r.post(u,null,{params:t})},$=function(t){return r.post(l,null,{params:t})},W=function(t){return r.get(d,{params:t})},q=function(t){return r.put(h,null,{params:t})},U=function(t){return r.post(f+t.sceneId)},Z=function(t){return r.put(p,t)},J=function(t){return r.post(v,t)},z=function(t){return r.post(m,t)},X=function(t){return r.put(g,t)},K=function(t){return r.put(b,t)},Q=function(t){return r.get(_,{params:t})},tt=function(t){return r.get(y,{params:t})},et=function(t){return r.get(C,{params:t})},it=function(t){return r.get(D,{params:t})},nt=function(t){return r.get(T,{params:t})},at=function(t){return r.get(w,{params:t})},ot=function(t){return r.get(k,{params:t})},rt=function(t){return r.get(E,{params:t})},st=function(t){return r.post(M,t,{params:t})},ct=function(t){return r.post(S,t,{params:t})},ut=function(){return r.get(O)},lt=function(t){return r.get(x,{params:t})},dt=function(t){return r.post(I,t,{params:t})},ht=function(t){return r.put(N+t.id,t)},ft=function(t){return r.put(R,t,{params:t})},pt=function(t){return r.put(j,t,{params:t})},vt=function(t){return r.get(A,{params:t})},mt=function(t){return r.put(P,null,{params:t})},gt=function(t){return r.get(F,t)},bt=function(t){return r.post(L,null,{params:t})},_t=function(t){return r.get(B,{params:t})},yt=function(t){return r.post(G,null,{params:t})}},1155:function(t,e,i){"use strict";i("9c4e")},1530:function(t,e,i){},"178c":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"countdown-box"},[i("div",{staticClass:"countdown",class:{"hide-option-countdown":!t.showButton}},[t.showButton?i("div",{staticClass:"btn-option"},[i("div",{staticClass:"option-text cancel-countdown",on:{click:function(e){return t.handleCountdown("cancel")}}},[t._v(" 取消 ")]),i("div",{staticClass:"option-text confirm-countdown",on:{click:function(e){return t.handleCountdown("ok")}}},[t._v(" 确认 ")])]):t._e(),i("div",{staticClass:"component"},[i("div",{ref:"timerPickerWrap"},[i("div",{staticClass:"scroller-box"},[i("div",{staticClass:"current-time"},[i("div",{staticClass:"desc"},[i("span",{staticClass:"space"}),i("span",{staticClass:"hour"},[t._v(t._s(t.hourDesc))]),i("span",{staticClass:"minute"},[t._v(t._s(t.minuteDesc))])])]),i("div",{ref:"hours",staticClass:"hours-wrap",style:{transform:"translateY("+t.hourTop+"px)",marginTop:t.marginTop+"px",transition:t.touchStart.isTouching?"none":"all 0.2s ease-out"},on:{touchstart:t.onTouchStart,touchmove:t.onTouchMove,touchend:t.onTouchEnd}},t._l(t.hours,(function(e){return i("div",{key:e.key,staticClass:"text normal middle",class:{"selected-item":t.currentIndex==e.key,"front-first-wrap":t.first(t.currentIndex,e.key),"front-second-wrap":t.second(t.currentIndex,e.key)},style:{height:t.lineheight.normal+"px"},attrs:{"data-index":e.key}},[i("span",{staticClass:"front"},[t._v(t._s(t.formatt(e.value)))])])})),0),i("div",{ref:"minutes",staticClass:"minutes-wrap",style:{transform:"translateY("+t.minuteTop+"px)",marginTop:t.minuteMarginTop+"px",transition:t.touchStartMinute.isTouching?"none":"all 0.2s ease-out"},on:{touchstart:t.onTouchStartMinute,touchmove:t.onTouchMoveMinute,touchend:t.onTouchEndMinute}},t._l(t.minutes,(function(e){return i("div",{key:e.key,staticClass:"text normal middle",class:{"selected-item":t.currentMinuteIndex==e.key,"front-first-wrap":t.first(t.currentMinuteIndex,e.key),"front-second-wrap":t.second(t.currentMinuteIndex,e.key)},style:{height:t.lineheight.normal+"px"},attrs:{"data-index":e.key}},[i("span",{staticClass:"front"},[t._v(t._s(t.formatt(e.value)))])])})),0)])])])])])},a=[],o=(i("a9e3"),i("a630"),i("3ca3"),i("4d90"),i("a434"),i("7db0"),10),r={name:"timer-picker",props:{showButton:{type:Boolean,default:!0},maxDegree:{type:Number,default:23},minDegree:{type:Number,default:0},hourDesc:{type:String,default:"时"},minuteDesc:{type:String,default:"分"},initHour:{type:Number,default:24},initMinute:{type:Number,default:15},value:{type:Boolean,default:!1}},data:function(){var t=this;return{hours:Array.from({length:81},(function(e,i){i-=o;var n=i<0?i+(t.maxDegree-t.minDegree+1):i;return{value:n%(t.maxDegree-t.minDegree+1),key:i}})),minutes:Array.from({length:81},(function(t,e){e-=o;var i=e<0?e+60:e;return{value:i%60,key:e}})),currentIndex:24,currentMinuteIndex:15,hourTop:0,minuteTop:0,marginTop:0,minuteMarginTop:0,lineheight:{main:0,primary:0,normal:0},touchStart:{isTouching:!1,x:0,y:0,initTop:0,marginTop:0,unit:0,currentIndex:0,startTime:0},touchStartMinute:{isTouching:!1,x:0,y:0,initTop:0,marginTop:0,unit:0,currentIndex:0,startTime:0}}},watch:{value:function(t){this.setInitData()}},methods:{first:function(t,e){return t==e-1||t==e+1},second:function(t,e){return t==e-2||t==e+2},formatt:function(t){return t?(t+"").padStart(2,"0"):"00"},setInitData:function(){var t=this;this.currentIndex=this.initHour,this.currentMinuteIndex=this.initMinute,this.hours=Array.from({length:81},(function(e,i){i-=o;var n=i<0?i+(t.maxDegree-t.minDegree+1):i;return{value:n%(t.maxDegree-t.minDegree+1),key:i}})),this.minutes=Array.from({length:81},(function(t,e){e-=o;var i=e<0?e+60:e;return{value:i%60,key:e}})),this._getRect()},onTouchStart:function(t){this.touchStart.y=t.changedTouches[0].clientY,this.touchStart.initTop=this.hourTop,this.touchStart.currentIndex=this.currentIndex,this.touchStart.unit=0,this.touchStart.isTouching=!0,this.touchStart.marginTop=this.marginTop,this.$emit("onFingerTouch",!0),this.touchStart.startTime=Date.now()},onTouchMove:function(t){var e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY},i=e.y-this.touchStart.y,n=i<0,a=0,o=this.lineheight.normal,r=n?Math.floor:Math.round;a=r.call(this,i/o),this.currentIndex=this.touchStart.currentIndex-a,this.touchStart.unit=a,this.hourTop=this.touchStart.initTop+i},onTouchEnd:function(t){var e=this,i=Date.now()-this.touchStart.startTime;i<90?(this.currentIndex-=2*this.touchStart.unit,this.touchStart.unit*=3):i<180&&(this.currentIndex-=this.touchStart.unit,this.touchStart.unit*=2),this.touchStart.currentIndex=this.currentIndex;var n=this.touchStart.unit;if(n<0){this.hours.splice(0,Math.abs(n));for(var a=this.hours[this.hours.length-1],o=0;o<Math.abs(n);o++)this.hours.push({key:a.key+o+1,value:(a.value+o+1)%24})}else if(n>0){this.hours.splice(-n);for(var r=this.hours[0],s=0;s<Math.abs(n);s++)this.hours.unshift({key:r.key-s-1,value:r.value-s-1<0?r.value-s+23:r.value-s-1})}this.marginTop=this.touchStart.marginTop-n*this.lineheight.normal,this.$nextTick((function(){setTimeout((function(){e.hourTop=e.touchStart.initTop+e.lineheight.normal*n,e.touchStart.initTop=e.hourTop,e.touchStart.isTouching=!1}),20)})),this.$emit("onFingerTouch",!1),this.showButton||this.$emit("onTimeChange",{hour:this.hours.find((function(t){return t.key==e.currentIndex})).value,minute:this.minutes.find((function(t){return t.key==e.currentMinuteIndex})).value})},onTouchStartMinute:function(t){this.touchStartMinute.y=t.changedTouches[0].clientY,this.touchStartMinute.initTop=this.minuteTop,this.touchStartMinute.currentIndex=this.currentMinuteIndex,this.touchStartMinute.unit=0,this.touchStartMinute.isTouching=!0,this.touchStartMinute.marginTop=this.minuteMarginTop,this.touchStartMinute.startTime=Date.now(),this.$emit("onFingerTouch",!0)},onTouchMoveMinute:function(t){var e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY},i=e.y-this.touchStartMinute.y,n=i<0,a=0,o=this.lineheight.normal,r=n?Math.floor:Math.round;a=r.call(this,i/o),this.currentMinuteIndex=this.touchStartMinute.currentIndex-a,this.touchStartMinute.unit=a,this.minuteTop=this.touchStartMinute.initTop+i},onTouchEndMinute:function(t){var e=this,i=Date.now()-this.touchStartMinute.startTime;i<90?(this.currentMinuteIndex-=2*this.touchStartMinute.unit,this.touchStartMinute.unit*=3):i<180&&(this.currentMinuteIndex-=this.touchStartMinute.unit,this.touchStartMinute.unit*=2),this.touchStartMinute.currentIndex=this.currentMinuteIndex;var n=this.touchStartMinute.unit;if(n<0){this.minutes.splice(0,Math.abs(n));for(var a=this.minutes[this.minutes.length-1],o=0;o<Math.abs(n);o++)this.minutes.push({key:a.key+o+1,value:(a.value+o+1)%60})}else if(n>0){this.minutes.splice(-n);for(var r=this.minutes[0],s=0;s<Math.abs(n);s++)this.minutes.unshift({key:r.key-s-1,value:r.value-s-1<0?r.value-s+59:r.value-s-1})}this.minuteMarginTop=this.touchStartMinute.marginTop-n*this.lineheight.normal,this.$nextTick((function(){setTimeout((function(){e.minuteTop=e.touchStartMinute.initTop+e.lineheight.normal*n,e.touchStartMinute.initTop=e.hourTop,e.touchStartMinute.isTouching=!1}),20)})),this.$emit("onFingerTouch",!1),this.showButton||this.$emit("onTimeChange",{hour:this.hours.find((function(t){return t.key==e.currentIndex})).value,minute:this.minutes.find((function(t){return t.key==e.currentMinuteIndex})).value})},_getRect:function(){var t=this;this.$nextTick((function(){t.lineheight.normal=Math.round(74/750*window.screen.width),t.lineheight.main=Math.round(112/750*window.screen.width),t.lineheight.primary=Math.round(.104*window.screen.width),t.hourTop=(2-o-t.currentIndex)*t.lineheight.normal,t.minuteTop=(2-o-t.currentMinuteIndex)*t.lineheight.normal,t.minuteMarginTop=0,t.marginTop=0}))},handleCountdown:function(t){var e=this;"cancel"==t?(this.$emit("input",!1),this.$emit("on-cancel")):"ok"==t&&(this.$emit("input",!1),this.$emit("on-confirm",{hour:this.hours.find((function(t){return t.key==e.currentIndex})).value,minute:this.minutes.find((function(t){return t.key==e.currentMinuteIndex})).value}))}},created:function(){this.currentIndex=this.initHour,this.currentMinuteIndex=this.initMinute},mounted:function(){this._getRect()}},s=r,c=(i("6ace"),i("2877")),u=Object(c["a"])(s,n,a,!1,null,"16d7b3c0",null);e["a"]=u.exports},"1b62":function(t,e,i){"use strict";var n=i("ed08"),a=i("4360");e["a"]={created:function(){var t=Object(n["c"])(window.location.href);t&&(t.token&&(window.__WINGTO__.token=t.token),t.platform&&(window.__WINGTO__.platform=t.platform.indexOf("android")>=0?"android":t.platform.indexOf("ios")>=0?"ios":""),t.deviceId&&a["a"].commit("setGlobalDataId",{deviceId:t.deviceId}),t.familyId&&a["a"].commit("setGlobalFamilyId",t.familyId),t.dataTypeEnum&&a["a"].commit("setGlobalDeviceType",t.dataTypeEnum),window.__WINGTO__.statusbarheight=parseFloat(t.statusbarheight)||0)},mounted:function(){this.notifyNativeReady&&this.notifyNativeReady()}}},"23b5":function(t,e,i){"use strict";i("65bd")},2484:function(t,e,i){},"263f":function(t,e,i){},2973:function(t,e,i){"use strict";i("752f")},"29d3":function(t,e,i){"use strict";i("a32a")},"2e43":function(t,e,i){},"32ed":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"temprature-select"},[i("div",{ref:"tempratureCircle",staticClass:"temprature-circle",on:{touchstart:function(e){return e.stopPropagation(),t.onTouchStart(e)},touchmove:function(e){return e.stopPropagation(),t.onTouchMove(e)},touchend:function(e){return e.stopPropagation(),t.onTouchEnd(e)}}},[i("div",{ref:"circleWrap",staticClass:"circle-wrap"},t._l(t.templatureColor,(function(e,n){return i("div",{key:n,staticClass:"temprature-color",style:{"background-color":e,"background-image":"linear-gradient("+e+", "+(n<t.templatureColor.length-1?t.templatureColor[n+1]:e)+")"}})})),0),i("div",{ref:"indicator",staticClass:"temprature-indicator",style:{left:t.indicator.x+"px",top:t.indicator.y+"px",background:t.templatureColor[t.colorNum]}})])])},a=[],o=(i("a9e3"),i("ed08")),r={props:{curTemprature:{type:Number,default:4600}},data:function(){return{templatureColor:o["g"],wrapRect:{},indicator:{width:0,height:0,x:0,y:0},colorHeight:0,colorNum:Math.ceil((o["g"].length-1)/2)}},methods:{onTouchStart:function(t){this._initPanel(),this.onTouchMove(t),this.$emit("onFingerTouch",!0)},onTouchEnd:function(t){this.onTouchMove(t,!0),this.$emit("onFingerTouch",!1)},onTouchMove:function(t,e){if(!this.chilModeModal){var i=t.changedTouches[0],n=i.clientX-(this.wrapRect.left+this.wrapRect.width/2),a=i.clientY-(this.wrapRect.top+this.wrapRect.height/2),o=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(a),2)),r=this.wrapRect.width/2,s=this.wrapRect.left,c=this.wrapRect.top;if(o>r){var u=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(a),2)),l=n*r/u+r,d=a*r/u+r;this.indicator.x=l-this.indicator.width/2,this.indicator.y=d-this.indicator.height/2;var h=Math.round(d/this.colorHeight);this.colorNum=h<0?0:h>this.templatureColor.length-1?this.templatureColor.length-1:h}else{var f={x:i.clientX-s,y:i.clientY-c},p=Math.round(f.y/this.colorHeight);this.colorNum=p<0?0:p>this.templatureColor.length-1?this.templatureColor.length-1:p,this.indicator.x=f.x-this.indicator.width/2,this.indicator.y=f.y-this.indicator.height/2}this.$emit("onTempratureChange",{color:this.templatureColor[this.colorNum],templature:6500-100*this.colorNum,isTouchEnd:e})}},_initPanel:function(){var t=this.$refs.circleWrap.getBoundingClientRect(),e=this.$refs.indicator.getBoundingClientRect();this.wrapRect=t,this.indicator.width=e.width,this.indicator.height=e.height,this.colorHeight=t.height/this.templatureColor.length},_setIndicatorByColor:function(t){if(t)for(var e=0,i=this.templatureColor.length;e<i;e++)if(this.templatureColor[e]===t){this.indicator.y=e*this.colorHeight-this.indicator.height/2,this.indicator.x=this.wrapRect.width/2-this.indicator.height/2,this.colorNum=e;break}},_setIndicatorByTemprature:function(t,e){var i=(6500-t)/100;this.indicator.y=i*this.colorHeight-this.indicator.height/2,this.indicator.x=this.wrapRect.width/2-this.indicator.height/2,this.colorNum=i}},mounted:function(){this._initPanel(),this._setIndicatorByTemprature(this.curTemprature)}},s=r,c=(i("f729"),i("2877")),u=Object(c["a"])(s,n,a,!1,null,"c281d0c0",null);e["a"]=u.exports},3980:function(t,e,i){(function(t,n){var a,o=i("7037").default;i("b0c0"),i("4d63"),i("ac1f"),i("25f0"),i("d3b7"),i("b64b"),i("a9e3"),i("99af"),i("4de4"),i("ddb0"),i("d81d"),i("fb6a"),i("4e82"),i("5319"),i("7db0"),i("159b"),i("a434"),i("13d5"),i("1276"),i("bf19"),i("b0c0"),i("4d63"),i("ac1f"),i("25f0"),i("d3b7"),i("b64b"),i("a9e3"),i("99af"),i("4de4"),i("e260"),i("ddb0"),i("d81d"),i("fb6a"),i("5319"),i("7db0"),i("159b"),i("a434"),i("1276"),i("bf19"),function(){function r(t){return K(t)&&mt.call(t,"callee")&&!Ct.call(t,"callee")}function s(t,e){return t.push.apply(t,e),t}function c(t){return function(e){return null==e?ot:e[t]}}function u(t,e,i,n,a){return a(t,(function(t,a,o){i=n?(n=!1,t):e(i,t,a,o)})),i}function l(t,e){return E(e,(function(e){return t[e]}))}function d(t){return t instanceof h?t:new h(t)}function h(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e}function f(t,e,i){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(ot,i)}),e)}function p(t,e){var i=!0;return kt(t,(function(t,n,a){return i=!!e(t,n,a)})),i}function v(t,e,i){for(var n=-1,a=t.length;++n<a;){var o=t[n],r=e(o);if(null!=r&&(s===ot?r===r:i(r,s)))var s=r,c=o}return c}function m(t,e){var i=[];return kt(t,(function(t,n,a){e(t,n,a)&&i.push(t)})),i}function g(t,e,i,n,a){var o=-1,r=t.length;for(i||(i=B),a||(a=[]);++o<r;){var c=t[o];0<e&&i(c)?1<e?g(c,e-1,i,n,a):s(a,c):n||(a[a.length]=c)}return a}function b(t,e){return t&&Mt(t,e,Bt)}function _(t,e){return m(e,(function(e){return z(t[e])}))}function y(t,e){return t>e}function C(t,e,i,n,a){return t===e||(null==t||null==e||!K(t)&&!K(e)?t!==t&&e!==e:D(t,e,i,n,C,a))}function D(t,e,i,n,a,o){var r=Rt(t),s=Rt(e),c=r?"[object Array]":bt.call(t),u=s?"[object Array]":bt.call(e),l=(c="[object Arguments]"==c?"[object Object]":c,u="[object Arguments]"==u?"[object Object]":u,"[object Object]"==c);s="[object Object]"==u,u=c==u;o||(o=[]);var d=Ot(o,(function(e){return e[0]==t})),h=Ot(o,(function(t){return t[0]==e}));if(d&&h)return d[1]==e;if(o.push([t,e]),o.push([e,t]),u&&!l){if(r)i=F(t,e,i,n,a,o);else t:{switch(c){case"[object Boolean]":case"[object Date]":case"[object Number]":i=Z(+t,+e);break t;case"[object Error]":i=t.name==e.name&&t.message==e.message;break t;case"[object RegExp]":case"[object String]":i=t==e+"";break t}i=!1}return o.pop(),i}return 1&i||(r=l&&mt.call(t,"__wrapped__"),c=s&&mt.call(e,"__wrapped__"),!r&&!c)?!!u&&(i=L(t,e,i,n,a,o),o.pop(),i):(r=r?t.value():t,c=c?e.value():e,i=a(r,c,i,n,o),o.pop(),i)}function T(t){return"function"==typeof t?t:null==t?nt:("object"==o(t)?k:c)(t)}function w(t,e){return t<e}function E(t,e){var i=-1,n=J(t)?Array(t.length):[];return kt(t,(function(t,a,o){n[++i]=e(t,a,o)})),n}function k(t){var e=Tt(t);return function(i){var n=e.length;if(null==i)return!n;for(i=Object(i);n--;){var a=e[n];if(!(a in i)||!C(t[a],i[a],3))return!1}return!0}}function M(t,e){return t=Object(t),q(e,(function(e,i){return i in t&&(e[i]=t[i]),e}),{})}function S(t){return St(H(t,void 0,nt),t+"")}function O(t,e,i){var n=-1,a=t.length;for(0>e&&(e=-e>a?0:a+e),i=i>a?a:i,0>i&&(i+=a),a=e>i?0:i-e>>>0,e>>>=0,i=Array(a);++n<a;)i[n]=t[n+e];return i}function x(t){return O(t,0,t.length)}function I(t,e){var i;return kt(t,(function(t,n,a){return i=e(t,n,a),!i})),!!i}function N(t,e){return q(e,(function(t,e){return e.func.apply(e.thisArg,s([t],e.args))}),t)}function R(t,e,i){var n=!i;i||(i={});for(var a=-1,o=e.length;++a<o;){var r=e[a],s=ot;if(s===ot&&(s=t[r]),n)i[r]=s;else{var c=i,u=c[r];mt.call(c,r)&&Z(u,s)&&(s!==ot||r in c)||(c[r]=s)}}return i}function j(t){return S((function(e,i){var n=-1,a=i.length,o=1<a?i[a-1]:ot;o=3<t.length&&"function"==typeof o?(a--,o):ot;for(e=Object(e);++n<a;){var r=i[n];r&&t(e,r,n,o)}return e}))}function A(t){return function(){var e=arguments,i=Et(t.prototype);e=t.apply(i,e);return X(e)?e:i}}function P(t,e,i){function n(){for(var o=-1,r=arguments.length,s=-1,c=i.length,u=Array(c+r),l=this&&this!==dt&&this instanceof n?a:t;++s<c;)u[s]=i[s];for(;r--;)u[s++]=arguments[++o];return l.apply(e,u)}if("function"!=typeof t)throw new TypeError("Expected a function");var a=A(t);return n}function F(t,e,i,n,a,o){var r=t.length,s=e.length;if(r!=s&&!(1&i&&s>r))return!1;s=-1;for(var c=!0,u=2&i?[]:ot;++s<r;){var l=t[s],d=e[s];if(void 0!==ot){c=!1;break}if(u){if(!I(e,(function(t,e){if(!$(u,e)&&(l===t||a(l,t,i,n,o)))return u.push(e)}))){c=!1;break}}else if(l!==d&&!a(l,d,i,n,o)){c=!1;break}}return c}function L(t,e,i,n,a,o){var r=1&i,s=Bt(t),c=s.length,u=Bt(e).length;if(c!=u&&!r)return!1;for(var l=c;l--;){var d=s[l];if(!(r?d in e:mt.call(e,d)))return!1}for(u=!0;++l<c;){d=s[l];var h=t[d],f=e[d];if(void 0!==ot||h!==f&&!a(h,f,i,n,o)){u=!1;break}r||(r="constructor"==d)}return u&&!r&&(i=t.constructor,n=e.constructor,i!=n&&"constructor"in t&&"constructor"in e&&!("function"==typeof i&&i instanceof i&&"function"==typeof n&&n instanceof n)&&(u=!1)),u}function B(t){return Rt(t)||r(t)}function G(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}function H(t,e,i){return e=wt(e===ot?t.length-1:e,0),function(){for(var n=arguments,a=-1,o=wt(n.length-e,0),r=Array(o);++a<o;)r[a]=n[e+a];for(a=-1,o=Array(e+1);++a<e;)o[a]=n[a];return o[e]=i(r),t.apply(this,o)}}function V(t){return null!=t&&t.length?g(t,1):[]}function Y(t){return t&&t.length?t[0]:ot}function $(t,e,i){var n=null==t?0:t.length;i="number"==typeof i?0>i?wt(n+i,0):i:0,i=(i||0)-1;for(var a=e===e;++i<n;){var o=t[i];if(a?o===e:o!==o)return i}return-1}function W(t,e){return kt(t,T(e))}function q(t,e,i){return u(t,T(e),i,3>arguments.length,kt)}function U(t,e){var i;if("function"!=typeof e)throw new TypeError("Expected a function");return t=jt(t),function(){return 0<--t&&(i=e.apply(this,arguments)),1>=t&&(e=ot),i}}function Z(t,e){return t===e||t!==t&&e!==e}function J(t){var e;return(e=null!=t)&&(e=t.length,e="number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e),e&&!z(t)}function z(t){return!!X(t)&&(t=bt.call(t),"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function X(t){var e=o(t);return null!=t&&("object"==e||"function"==e)}function K(t){return null!=t&&"object"==o(t)}function Q(t){return"number"==typeof t||K(t)&&"[object Number]"==bt.call(t)}function tt(t){return"string"==typeof t||!Rt(t)&&K(t)&&"[object String]"==bt.call(t)}function et(t){return"string"==typeof t?t:null==t?"":t+""}function it(t){return null==t?[]:l(t,Bt(t))}function nt(t){return t}function at(t,e,i){var n=Bt(e),a=_(e,n);null!=i||X(e)&&(a.length||!n.length)||(i=e,e=t,t=this,a=_(e,Bt(e)));var o=!(X(i)&&"chain"in i&&!i.chain),r=z(t);return kt(a,(function(i){var n=e[i];t[i]=n,r&&(t.prototype[i]=function(){var e=this.__chain__;if(o||e){var i=t(this.__wrapped__);return(i.__actions__=x(this.__actions__)).push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,s([this.value()],arguments))})})),t}var ot,rt=1/0,st=/[&<>"']/g,ct=RegExp(st.source),ut=/^(?:0|[1-9]\d*)$/,lt="object"==("undefined"===typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,dt="object"==("undefined"===typeof t?"undefined":o(t))&&t&&t.Object===Object&&t||lt||Function("return this")(),ht=(lt="object"==o(e)&&e&&!e.nodeType&&e)&&"object"==o(n)&&n&&!n.nodeType&&n,ft=function(t){return function(e){return null==t?ot:t[e]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),pt=Array.prototype,vt=Object.prototype,mt=vt.hasOwnProperty,gt=0,bt=vt.toString,_t=dt._,yt=Object.create,Ct=vt.propertyIsEnumerable,Dt=dt.isFinite,Tt=function(t,e){return function(i){return t(e(i))}}(Object.keys,Object),wt=Math.max,Et=function(){function t(){}return function(e){return X(e)?yt?yt(e):(t.prototype=e,e=new t,t.prototype=ot,e):{}}}();h.prototype=Et(d.prototype),h.prototype.constructor=h;var kt=function(t,e){return function(i,n){if(null==i)return i;if(!J(i))return t(i,n);for(var a=i.length,o=e?a:-1,r=Object(i);(e?o--:++o<a)&&!1!==n(r[o],o,r););return i}}(b),Mt=function(t){return function(e,i,n){var a=-1,o=Object(e);n=n(e);for(var r=n.length;r--;){var s=n[t?r:++a];if(!1===i(o[s],s,o))break}return e}}(),St=nt,Ot=function(t){return function(e,i,n){var a=Object(e);if(!J(e)){var o=T(i);e=Bt(e),i=function(t){return o(a[t],t,a)}}return i=t(e,i,n),-1<i?a[o?e[i]:i]:ot}}((function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;i=null==i?0:jt(i),0>i&&(i=wt(n+i,0));t:{for(e=T(e),n=t.length,i+=-1;++i<n;)if(e(t[i],i,t)){t=i;break t}t=-1}return t})),xt=S((function(t,e,i){return P(t,e,i)})),It=S((function(t,e){return f(t,1,e)})),Nt=S((function(t,e,i){return f(t,At(e)||0,i)})),Rt=Array.isArray,jt=Number,At=Number,Pt=j((function(t,e){R(e,Tt(e),t)})),Ft=j((function(t,e){R(e,G(e),t)})),Lt=S((function(t,e){t=Object(t);var i,n=-1,a=e.length,r=2<a?e[2]:ot;if(i=r){i=e[0];var s=e[1];if(X(r)){var c=o(s);if("number"==c){if(c=J(r)){c=r.length;var u=o(s);c=null==c?9007199254740991:c,c=!!c&&("number"==u||"symbol"!=u&&ut.test(s))&&-1<s&&0==s%1&&s<c}}else c="string"==c&&s in r;i=!!c&&Z(r[s],i)}else i=!1}for(i&&(a=1);++n<a;)for(r=e[n],i=Gt(r),s=-1,c=i.length;++s<c;){u=i[s];var l=t[u];(l===ot||Z(l,vt[u])&&!mt.call(t,u))&&(t[u]=r[u])}return t})),Bt=Tt,Gt=G,Ht=function(t){return St(H(t,ot,V),t+"")}((function(t,e){return null==t?{}:M(t,e)}));d.assignIn=Ft,d.before=U,d.bind=xt,d.chain=function(t){return t=d(t),t.__chain__=!0,t},d.compact=function(t){return m(t,Boolean)},d.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),i=arguments[0];t--;)e[t-1]=arguments[t];return s(Rt(i)?x(i):[i],g(e,1))},d.create=function(t,e){var i=Et(t);return null==e?i:Pt(i,e)},d.defaults=Lt,d.defer=It,d.delay=Nt,d.filter=function(t,e){return m(t,T(e))},d.flatten=V,d.flattenDeep=function(t){return null!=t&&t.length?g(t,rt):[]},d.iteratee=T,d.keys=Bt,d.map=function(t,e){return E(t,T(e))},d.matches=function(t){return k(Pt({},t))},d.mixin=at,d.negate=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){return!t.apply(this,arguments)}},d.once=function(t){return U(2,t)},d.pick=Ht,d.slice=function(t,e,i){var n=null==t?0:t.length;return i=i===ot?n:+i,n?O(t,null==e?0:+e,i):[]},d.sortBy=function(t,e){var i=0;return e=T(e),E(E(t,(function(t,n,a){return{value:t,index:i++,criteria:e(t,n,a)}})).sort((function(t,e){var i;t:{i=t.criteria;var n=e.criteria;if(i!==n){var a=i!==ot,o=null===i,r=i===i,s=n!==ot,c=null===n,u=n===n;if(!c&&i>n||o&&s&&u||!a&&u||!r){i=1;break t}if(!o&&i<n||c&&a&&r||!s&&r||!u){i=-1;break t}}i=0}return i||t.index-e.index})),c("value"))},d.tap=function(t,e){return e(t),t},d.thru=function(t,e){return e(t)},d.toArray=function(t){return J(t)?t.length?x(t):[]:it(t)},d.values=it,d.extend=Ft,at(d,d),d.clone=function(t){return X(t)?Rt(t)?x(t):R(t,Tt(t)):t},d.escape=function(t){return(t=et(t))&&ct.test(t)?t.replace(st,ft):t},d.every=function(t,e,i){return e=i?ot:e,p(t,T(e))},d.find=Ot,d.forEach=W,d.has=function(t,e){return null!=t&&mt.call(t,e)},d.head=Y,d.identity=nt,d.indexOf=$,d.isArguments=r,d.isArray=Rt,d.isBoolean=function(t){return!0===t||!1===t||K(t)&&"[object Boolean]"==bt.call(t)},d.isDate=function(t){return K(t)&&"[object Date]"==bt.call(t)},d.isEmpty=function(t){return J(t)&&(Rt(t)||tt(t)||z(t.splice)||r(t))?!t.length:!Tt(t).length},d.isEqual=function(t,e){return C(t,e)},d.isFinite=function(t){return"number"==typeof t&&Dt(t)},d.isFunction=z,d.isNaN=function(t){return Q(t)&&t!=+t},d.isNull=function(t){return null===t},d.isNumber=Q,d.isObject=X,d.isRegExp=function(t){return K(t)&&"[object RegExp]"==bt.call(t)},d.isString=tt,d.isUndefined=function(t){return t===ot},d.last=function(t){var e=null==t?0:t.length;return e?t[e-1]:ot},d.max=function(t){return t&&t.length?v(t,nt,y):ot},d.min=function(t){return t&&t.length?v(t,nt,w):ot},d.noConflict=function(){return dt._===this&&(dt._=_t),this},d.noop=function(){},d.reduce=q,d.result=function(t,e,i){return e=null==t?ot:t[e],e===ot&&(e=i),z(e)?e.call(t):e},d.size=function(t){return null==t?0:(t=J(t)?t:Tt(t),t.length)},d.some=function(t,e,i){return e=i?ot:e,I(t,T(e))},d.uniqueId=function(t){var e=++gt;return et(t)+e},d.each=W,d.first=Y,at(d,function(){var t={};return b(d,(function(e,i){mt.call(d.prototype,i)||(t[i]=e)})),t}(),{chain:!1}),d.VERSION="4.17.15",kt("pop join replace reverse split push shift sort splice unshift".split(" "),(function(t){var e=(/^(?:replace|split)$/.test(t)?String.prototype:pt)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|join|replace|shift)$/.test(t);d.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var a=this.value();return e.apply(Rt(a)?a:[],t)}return this[i]((function(i){return e.apply(Rt(i)?i:[],t)}))}})),d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=function(){return N(this.__wrapped__,this.__actions__)},"object"==o(i("3c35"))&&i("3c35")?(dt._=d,a=function(){return d}.call(e,i,e,n),void 0===a||(n.exports=a)):ht?((ht.exports=d)._=d,lt._=d):dt._=d}.call(this)}).call(this,i("c8ba"),i("62e4")(t))},"3a5e":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading"},[i("div",{staticClass:"loading-wrap"},[i("span",{style:{background:t.color}}),i("span",{style:{background:t.color}}),i("span",{style:{background:t.color}}),i("span",{style:{background:t.color}}),i("span",{style:{background:t.color}}),i("span",{style:{background:t.color}}),i("span",{style:{background:t.color}}),i("span",{style:{background:t.color}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"loading-mask",style:{background:t.maskColor}})])},a=[],o={name:"loading",props:{color:{type:String,default:"#fff"},showMask:{type:Boolean,default:!0},maskColor:{type:String,default:"rgba(0, 0, 0, 0.3)"}}},r=o,s=(i("9c1f"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"3c7edffe",null);e["a"]=c.exports},"3e35":function(t,e,i){},4014:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{title:"升级提醒",content:t.upgradeContent,cancelText:"暂不升级",okText:"立即升级",dismiss:!0},on:{"on-ok":t.onUpgradeOk,"on-cancel":t.onUpgradeCancel},model:{value:t.upgradeModal,callback:function(e){t.upgradeModal=e},expression:"upgradeModal"}})},a=[],o=i("5530"),r=i("8628"),s=i("0530"),c=i("2f62"),u={name:"UpgradeModal",components:{Modal:r["a"]},data:function(){return{upgradeModal:!1,netStatus:{0:"offline",1:"online",4:"offNetwork",5:"online",7:"binding",binding:"入网中",online:"在线",offline:"离线",offNetwork:"离网"},upgradeContent:"发现新版本"}},computed:Object(o["a"])({},Object(c["c"])(["deviceDetail"])),methods:{checkUpgrade:function(){"online"===this.deviceDetail.deviceStateEnum&&this.deviceDetail.ifUpgradeAble&&this.deviceDetail.hasNewVersion&&(0!==this.deviceDetail.upgradeType&&2!==this.deviceDetail.upgradeType||(this.upgradeContent=this.deviceDetail.versionDesc||this.upgradeContent,this.upgradeModal=!0))},onUpgradeOk:function(){2!==this.deviceDetail.upgradeType&&(this.upgradeModal=!1),Object(s["b"])("onNavigateTo",{type:1,data:this.deviceDetail})},onUpgradeCancel:function(){2!==this.deviceDetail.upgradeType?this.upgradeModal=!1:Object(s["b"])("onNavigateTo",{type:0})}},watch:{}},l=u,d=i("2877"),h=Object(d["a"])(l,n,a,!1,null,null,null);e["a"]=h.exports},4360:function(t,e,i){"use strict";var n=i("b85c"),a=(i("a434"),i("a9e3"),i("2b0e")),o=i("2f62"),r={state:{deviceDetail:{},curEndpointId:"",execTips:{isInit:!1,text:["点击即可配置智能"]}},mutations:{setcurEndpointId:function(t,e){t.curEndpointId=e},setExecTips:function(t,e){t.execTips.isInit&&e.isInit||(e.isInit?(t.execTips.isInit=e.isInit,e.text&&e.text.length&&(t.execTips.text=e.text)):e.text&&e.text.length&&(t.execTips.text=e.text))}},actions:{},getters:{curEndpointId:function(t){return t.curEndpointId},execTips:function(t){return t.execTips.text}}},s=r,c={state:{globalTemprature:4500,lightStatus:!1,whenLightOnStatus:255,whenElectriDefaultLightStatus:255,lightOnStep:1,lightOffStep:1},mutations:{setLightOnStatus:function(t,e){t.whenLightOnStatus=e},setElectriDefaultLightStatus:function(t,e){t.whenElectriDefaultLightStatus=e},setLightStatus:function(t,e){t.lightStatus=e},setCurTemprature:function(t,e){t.globalTemprature=e},setLightOnOffStep:function(t,e){"lightOnStep"===e.key?t.lightOnStep=e.value:"lightOffStep"===e.key&&(t.lightOffStep=e.value)}},actions:{},getters:{getWhenLightOnStatus:function(t){return t.whenLightOnStatus},getElectriDefaultLightStatus:function(t){return t.whenElectriDefaultLightStatus},lightStatus:function(t){return t.lightStatus},globalTemprature:function(t){return t.globalTemprature},getLightOnStep:function(t){return t.lightOnStep},getLightOffStep:function(t){return t.lightOffStep}}},u=c,l=i("1da1"),d=(i("96cf"),i("99af"),i("3980")),h=i.n(d),f=i("0c6d"),p={state:{homeDeviceList4Mqtt:{},navigateType:0,homeDeviceList:[],homeAreaId:0,roomEnvironmentInfo:{measureHumidity:null,measureTemprature:null,vocValue:null,inside:!1,code:0}},mutations:{setNavigateType:function(t,e){var i=e.type;t.navigateType=i},setHomeAreaId:function(t,e){t.homeAreaId=e},setDeviceItemDetail:function(t,e){var i="number"===typeof e.endpointIndex?e.endpointIndex:"-1",n=e.deviceMac+"_"+i;t.homeDeviceList4Mqtt[n]&&(t.homeDeviceList4Mqtt[n]=e,t.homeDeviceList4Mqtt=h.a.clone(t.homeDeviceList4Mqtt))},setDeviceList:function(t,e){var i=e.list,a=e.isClear;if(Array.isArray(i)&&i.length){var o=[],r={};if(a)o=i;else{var s=h.a.clone(t.homeDeviceList);o=s.concat(i),r=t.homeDeviceList4Mqtt}var c,u=Object(n["a"])(o);try{for(u.s();!(c=u.n()).done;){var l=c.value,d="number"===typeof l.endpointIndex?l.endpointIndex:"-1",f=l.deviceMac+"_"+d;l.attrs||(l.attrs=[{attrHex:15855616,attrValue:"online"===l.deviceStateEnum?1:0}]),r[f]=l}}catch(p){u.e(p)}finally{u.f()}t.homeDeviceList4Mqtt=r,t.homeDeviceList=o}else a&&(t.homeDeviceList4Mqtt={},t.homeDeviceList=[])},setDeviceItem:function(t,e){var i=e.item,n=e.key,a=e.value,o="number"===typeof i.endpointIndex?i.endpointIndex:"-1",r=s.deviceMac+"_"+o,s=t.homeDeviceList4Mqtt[r];s&&(t.homeDeviceList4Mqtt[r][n]=a)},setDelDeviceItem:function(t,e){var i="number"===typeof e.endpointIndex?e.endpointIndex:"-1",n=e.deviceMac+"_"+i;delete t.homeDeviceList4Mqtt[n],t.homeDeviceList4Mqtt=h.a.clone(t.homeDeviceList4Mqtt)}},actions:{homeMqttAction:function(t,e){t.commit;var i=t.state;console.log("homeMqttAction:",e);try{var a=e.data.data;if(e&&e.data&&e.data.data&&e.data.data.dataId&&"endpoint"===e.data.data.dataTypeEnum&&e.data.data.doorLock){var o=null;for(var r in i.homeDeviceList4Mqtt)if(i.homeDeviceList4Mqtt[r].dataId==e.data.data.dataId){o=i.homeDeviceList4Mqtt[r];break}if(!o)return;o["attrs"]=[{attrHex:15855616,attrValue:"online"===e.data.data.deviceStateEnum?1:0}],a=[o]}var s,c=h.a.clone(i.homeDeviceList4Mqtt),u=Object(n["a"])(a);try{for(u.s();!(s=u.n()).done;){var l=s.value,d="number"===typeof l.endpointIndex?l.endpointIndex:-1,f=l.deviceMac+"_"+d;if(-1===Number(d))for(var p in c){var v=c[p];if(v.deviceMac===l.deviceMac)if(v.attrs&&v.attrs.length){var m,g=Object(n["a"])(l.attrs);try{for(g.s();!(m=g.n()).done;){var b,_=m.value,y=null,C=Object(n["a"])(v.attrs);try{for(C.s();!(b=C.n()).done;){var D=b.value;if(D.attrHex===_.attrHex){y=D,D.attrValue=_.attrValue;break}}}catch(x){C.e(x)}finally{C.f()}y||v.attrs.push(_)}}catch(x){g.e(x)}finally{g.f()}c[p]=v}else v.attrs=l.attrs}else if(c[f]){if(!c[f].attrs||!l.attrs)continue;var T,w=Object(n["a"])(l.attrs);try{for(w.s();!(T=w.n()).done;){var E,k=T.value,M=null,S=Object(n["a"])(c[f].attrs);try{for(S.s();!(E=S.n()).done;){var O=E.value;if(O.attrHex===k.attrHex){M=O,O.attrValue=k.attrValue;break}}}catch(x){S.e(x)}finally{S.f()}M||c[f].attrs.push(k)}}catch(x){w.e(x)}finally{w.f()}}}}catch(x){u.e(x)}finally{u.f()}i.homeDeviceList4Mqtt=c}catch(I){console.error(I)}},getRoomEnvironmentData:function(t,e){return Object(l["a"])(regeneratorRuntime.mark((function i(){var n,a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=t.state,a=t.dispatch;try{o={inside:e.roomId>0},e&&e.roomId&&e.roomId>0?Object(f["E"])({roomId:e.roomId}).then((function(t){if(t&&!t.error){var e=t.data.data;for(var i in e)switch(Number(i)){case 67239936:o.measureTemprature=Number(e[i])/100|0;break;case 67436544:var r=Number(e[i]);o.measureHumidity=r<0?0:r,o.measureHumidity=o.measureHumidity/100;break;case 4230021125:o.vocValue=Number(e[i]);break}"number"!==typeof o.measureHumidity&&"number"!==typeof o.measureTemprature&&"number"!==typeof o.vocValue?a("getRoomEnvironmentData",{roomId:0}):(n.roomEnvironmentInfo.measureTemprature=o.measureTemprature,n.roomEnvironmentInfo.measureHumidity=o.measureHumidity,n.roomEnvironmentInfo.vocValue=o.vocValue,n.roomEnvironmentInfo.inside=o.inside,Object(f["H"])({weatherType:"now"}).then((function(t){t&&!t.error&&t.data&&t.data.data&&(n.roomEnvironmentInfo["code"]=t.data.data.now.icon||"999")})))}else n.roomEnvironmentInfo.inside=o.inside,Object(f["H"])({weatherType:"now"}).then((function(t){t&&!t.error&&t.data&&t.data.data&&(n.roomEnvironmentInfo["code"]=t.data.data.now.icon||"999")}))})):Object(f["H"])({weatherType:"now"}).then((function(t){if(t&&!t.error&&t.data&&t.data.data){var e=t.data.data;o.vocValue="优"===e.airCategory?1:"良"===e.airCategory?2:"中"===e.airCategory?3:"差"===e.airCategory?4:null,o.measureHumidity=Number(e.now.humidity),o.measureTemprature=Number(e.now.temp),o.code=e.now.icon||"999",n.roomEnvironmentInfo=o}else n.roomEnvironmentInfo.inside=o.inside}))}catch(r){console.error(r)}case 2:case"end":return i.stop()}}),i)})))()},deviceItemDetailAction:function(t,e){var i=t.commit,n=t.state;Object(f["l"])({dataId:e.dataId,dataTypeEnum:e.dataTypeEnum||"endpoint"}).then((function(t){var a=t.data,o=t.error;if(a&&!o)a.data&&i("setDeviceItemDetail",a.data);else if(e.isUsuallyOrAll&&o&&801===Number(o.code))for(var r in n.homeDeviceList4Mqtt)if(Number(n.homeDeviceList4Mqtt[r].dataId)===Number(e.dataId)){i("setDelDeviceItem",n.homeDeviceList4Mqtt[r]);break}}))}},getters:{homeDeviceList4Mqtt:function(t){return t.homeDeviceList4Mqtt},navigateType:function(t){return t.navigateType},homeAreaId:function(t){return t.homeAreaId},roomEnvironmentInfo:function(t){return t.roomEnvironmentInfo}}},v=p,m={state:{airConditionStatus:!1,oldTemperature:26,Temperature:26,airDuration:0,airTimer:0,mode:2,windSpeed:1},mutations:{setOldTemperature:function(t,e){t.oldTemperature=e},setTemperature:function(t,e){t.Temperature=e},setWindSpeed:function(t,e){t.windSpeed=e},setAirConditionMode:function(t,e){t.mode=e},setAirConditionStatus:function(t,e){t.airConditionStatus=e},setAirDuration:function(t,e){t.airDuration=e},setAirTimer:function(t,e){t.airTimer=e}},actions:{},getters:{getTemperature:function(t){return t.Temperature},getOldTemperature:function(t){return t.oldTemperature},getAirConditionMode:function(t){return t.mode},getWindSpeed:function(t){return t.windSpeed},airConditionStatus:function(t){return t.airConditionStatus},getAirDuration:function(t){return t.airDuration},getAirTimer:function(t){return t.airTimer}}},g=m,b={state:{ventilatorMode:0,ventilatorWindSpeed:1,ventilatorTaskId:0,ventilatorTemperature:0,ventilatorOriginTemperature:0,taskStartTimeMs:0,taskMinutes:0,socketEffectLight:!1,socketDoNotDisturb:!1,socketDoNotDisturbEffect:0,socketPreOffMinutes:0,socketPreOffStatus:!1,closeTime:0},mutations:{setVentilatorTaskId:function(t,e){t.ventilatorTaskId=e},setCloseTime:function(t,e){t.closeTime=e},setVentilatorWindSpeed:function(t,e){t.ventilatorWindSpeed=e},setVentilatorMode:function(t,e){t.ventilatorMode=e},setVentilatorOriginTemperature:function(t,e){t.ventilatorOriginTemperature=e},setVentilatorTemperature:function(t,e){t.ventilatorTemperature=e},setSocketEffectLight:function(t,e){t.socketEffectLight=e},setSocketDoNotDisturb:function(t,e){t.socketDoNotDisturb=e},setSocketPreOffMinutes:function(t,e){t.socketPreOffMinutes=e},setSocketPreOffStatus:function(t,e){t.socketPreOffStatus=e},setTaskStartTimeMs:function(t,e){t.taskStartTimeMs=e},setTaskMinutes:function(t,e){t.taskMinutes=e}},actions:{},getters:{getVentilatorTaskId:function(t){return t.ventilatorTaskId},getVentilatorMode:function(t){return t.ventilatorMode},getVentilatorWindSpeed:function(t){return t.ventilatorWindSpeed},getVentilatorOriginTemperature:function(t){return t.ventilatorOriginTemperature},getVentilatorTemperature:function(t){return t.ventilatorTemperature},getSocketEffectLight:function(t){return t.socketEffectLight},getSocketDoNotDisturb:function(t){return t.socketDoNotDisturb},getSocketPreOffMinutes:function(t){return t.socketPreOffMinutes},getSocketPreOffStatus:function(t){return t.socketPreOffStatus},getTaskStartTimeMs:function(t){return t.taskStartTimeMs},getCloseTime:function(t){return t.closeTime},getTaskMinutes:function(t){return t.taskMinutes}}},_=b,y={state:{onOffSwithDeviceStatus:0},mutations:{setOnOffSwithDeviceStatus:function(t,e){t.onOffSwithDeviceStatus=e}},getters:{onOffSwithDeviceStatus:function(t){return t.onOffSwithDeviceStatus}}},C=y,D=i("0530");a["a"].use(o["a"]);var T={state:{globalData:{},deviceDetail:{},globalDeviceStatus:"",globalDataId:"",globalFamilyId:"",globalMattData:[],globalDeviceMac:"",globalDeviceType:"endpoint",childMode:!1,defaultTempratureColors:["#FFC584","#FDD2A9","#FCDBC0","#F7E5DE","#D7E2EF","#BDE0FE"],defaultColorPickerColors:[{c:"#FF0000",xy:"48146 17390"},{c:"#FF8000",xy:"41253 24151"},{c:"#FFFF00",xy:"28483 36677"},{c:"#00FF00",xy:"17914 46838"},{c:"#00FFFF",xy:"14408 23660"},{c:"#0000FF",xy:"10917 580"}],hsvColorPickerColors:[{h:0,s:254,rgba:[255,0,0,1]},{h:30,s:254,rgba:[255,128,0,1]},{h:60,s:254,rgba:[255,255,0,1]},{h:120,s:254,rgba:[0,255,0,1]},{h:180,s:254,rgba:[0,255,255,1]},{h:240,s:254,rgba:[0,0,255,1]}],deviceDataModify:!1},mutations:{setDeviceDataModify:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.deviceDataModify=e},setGlobalDeviceType:function(t,e){t.globalDeviceType=e},setGlobalFamilyId:function(t,e){t.globalFamilyId=e},setGlobalDeviceStatus:function(t,e){t.globalDeviceStatus=e},setDeviceDetail:function(t,e){t.deviceDetail=e},setDataFromNative:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:payload,i=e.data;t.globalData=i},setHsvColorFromCache:function(t,e){t.hsvColorPickerColors=e},changeTempratureColors:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:payload,i=e.idx,n=e.color,a=e.colorList;if(a&&a.length)t.defaultTempratureColors=a;else{if(!n)return;t.defaultTempratureColors[i]=n}},changeColorPickerColors:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:payload,i=e.idx,n=e.color,a=e.xy,o=e.colorList;if(o&&o.length)t.defaultColorPickerColors=o;else{if(!n||!a)return;t.defaultColorPickerColors[i]={c:n,xy:a}}},changeHsvPickerColors:function(t,e){e&&e.rgba&&t.hsvColorPickerColors.splice(e.idx,1,{h:e.h,s:e.s,rgba:e.rgba})},setDataToNative:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:payload,i=e.key,n=e.data;t[i]=n,t.globalData[i]=n,Object(D["b"])("dataSave",t.globalData)},setMqttMessage:function(t,e){var i=e.data;if(i.zmac&&i.zmac===t.globalDeviceMac){t.globalMattData=i.data;var a,o=Object(n["a"])(i.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;if(r.deviceMac===t.globalDeviceMac&&-1===r.endpointIndex){t.globalDeviceStatus=Number(r.status);break}}}catch(s){o.e(s)}finally{o.f()}}},setChildMode:function(t,e){t.childMode=e},setGlobalDataId:function(t,e){e&&e.deviceId&&(t.globalDataId=e.deviceId)},setGlobalMac:function(t,e){e&&(t.globalDeviceMac=e)}},getters:{globalData:function(t){return t.globalData},defaultTempratureColors:function(t){return t.defaultTempratureColors},defaultColorPickerColors:function(t){return t.defaultColorPickerColors},globalDataId:function(t){return t.globalDataId},globalMattData:function(t){return t.globalMattData},globalDeviceStatus:function(t){return t.globalDeviceStatus},deviceDetail:function(t){return t.deviceDetail},childMode:function(t){return t.childMode},globalFamilyId:function(t){return t.globalFamilyId},deviceDataModify:function(t){return t.deviceDataModify},globalDeviceType:function(t){return t.globalDeviceType},hsvColorPickerColors:function(t){return t.hsvColorPickerColors}},actions:{deviceDetailAction:function(t){var e=t.commit,i=t.state;Object(f["l"])({dataId:i.globalDataId,dataTypeEnum:i.deviceDetail.dataTypeEnum||"endpoint"}).then((function(t){var i=t.data,n=t.error;i&&!n&&i.data&&e("setDeviceDetail",i.data)}))}},modules:{powerStrip:s,light:u,home:v,aircondition:g,ventilator:_,onOffSwitch:C}};e["a"]=new o["a"].Store(T)},"44ef":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/},"4a13":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"color-picker"},[n("div",{ref:"picker",staticClass:"picker",on:{touchstart:function(e){return e.stopPropagation(),t.onTouchStart(e)},touchmove:function(e){return e.stopPropagation(),t.onTouchMove(e)},touchend:function(e){return e.stopPropagation(),t.onTouchEnd(e)}}},[n("img",{attrs:{src:i("a789"),alt:""}}),n("div",{ref:"indicator",staticClass:"dot",style:{left:t.indicatorPosition.x+"px",top:t.indicatorPosition.y+"px",background:t.color}})])])},a=[],o=(i("99af"),i("ed08"),{name:"HSVColorPicker",data:function(){return{pickerRect:{},indicatorRect:{},centerPosition:{},indicatorPosition:{x:0,y:0},hsvAndleColor:[{degree:0,rgb:[255,0,0]},{degree:60,rgb:[255,255,0]},{degree:120,rgb:[0,255,0]},{degree:180,rgb:[0,255,255]},{degree:240,rgb:[0,0,255]},{degree:300,rgb:[255,0,255]}],color:""}},methods:{onTouchStart:function(t){this.$emit("onFingerTouch",!0),this._getRect(),this.onTouchMove(t,!1)},onTouchMove:function(t,e){var i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY},n=this.angle(this.centerPosition,i);n=Math.floor(n);var a=this.pickerRect.width/2,o=Math.sqrt(Math.pow(Math.abs(this.centerPosition.x-i.x),2)+Math.pow(Math.abs(this.centerPosition.y-i.y),2));if(o>a){var r=i.x-this.centerPosition.x,s=i.y-this.centerPosition.y,c=Math.sqrt(Math.pow(Math.abs(r),2)+Math.pow(Math.abs(s),2)),u=r*(this.pickerRect.width/2)/c+this.pickerRect.width/2,l=s*(this.pickerRect.height/2)/c+this.pickerRect.height/2;i.x=u+this.pickerRect.left,i.y=l+this.pickerRect.top,o=a}this.indicatorPosition={x:i.x-this.pickerRect.left,y:i.y-this.pickerRect.top};var d=this.getColor(n,o,a);this.$emit("colorChange",{hue:n,saturation:254*o/a|0,isTouchEnd:!!e,rgba:d})},onTouchEnd:function(t){this.onTouchMove(t,!0),this.$emit("onFingerTouch",!1)},angle:function(t,e){var i=e.x-t.x,n=e.y-t.y,a=360*Math.atan(n/i)/(2*Math.PI);return i>0?a=a>0?a:360+a:i<0&&(a=180+a),a},getColor:function(t,e,i){for(var n=0,a=0,o=0,r=this.hsvAndleColor.length;o<r;o++)t>=this.hsvAndleColor[o].degree&&(n=o+1,a=o);n=n>=6?0:n;var s=this.hsvAndleColor[n],c=this.hsvAndleColor[a],u=(c.rgb[0]-s.rgb[0])/60*(c.degree-t)+c.rgb[0],l=(c.rgb[1]-s.rgb[1])/60*(c.degree-t)+c.rgb[1],d=(c.rgb[2]-s.rgb[2])/60*(c.degree-t)+c.rgb[2],h="rgba(".concat(u,",").concat(l,",").concat(d,",").concat(1-(i-e)/i,")");return this.color=h,[u,l,d,1-(i-e)/i]},_getRect:function(){this.pickerRect=this.$refs.picker.getBoundingClientRect(),this.indicatorRect=this.$refs.indicator.getBoundingClientRect(),this.centerPosition={x:this.pickerRect.left+this.pickerRect.width/2,y:this.pickerRect.top+this.pickerRect.height/2}},_getPositionByHue:function(t,e){this._getRect();var i=this.pickerRect.width/2,n=e*(i/254),a=this.pickerRect.width/2+n*Math.sin(t*Math.PI/180),o=this.pickerRect.height/2+n*Math.cos(t*Math.PI/180);return this.indicatorPosition.x=o,this.indicatorPosition.y=a,this.getColor(t,e,i)}}}),r=o,s=(i("f0e2"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"e1a762a0",null);e["a"]=c.exports},5217:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"device-room"},[i("title-bar",{staticClass:"title-area",on:{goBack:t.goBack},scopedSlots:t._u([{key:"title",fn:function(){return[i("span",{staticClass:"title"},[t._v("设备房间")])]},proxy:!0},{key:"right",fn:function(){return[i("span",{staticClass:"btn",on:{click:t.onchooseFinish}},[t._v("完成")])]},proxy:!0}])}),i("div",{staticClass:"main"},[i("p",{staticClass:"tips"},[t._v("选择要将设备移入的所在房间")]),i("div",{staticClass:"list"},[i("p",{staticClass:"cur-room"},[t._v("当前所在房间："+t._s(t.roomName))]),t._l(t.roomList,(function(e,n){return i("div",{key:n,staticClass:"list-item",on:{click:function(i){return t.onSelectRoom(e)}}},[i("span",[t._v(t._s(e.roomName))]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.id===t.selectId,expression:"item.id === selectId"}],staticClass:"iconfont icon-check"})])}))],2)])],1)},a=[],o=i("b85c"),r=i("1da1"),s=i("5530"),c=(i("96cf"),i("afe3")),u=i("0c6d"),l=i("2f62"),d=i("0530"),h={name:"deviceRoom",data:function(){return{roomList:[],selectId:""}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["b"])(["deviceDetailAction"])),Object(l["d"])(["setDeviceDataModify"])),{},{onSelectRoom:function(t){this.selectId=t.id},goBack:function(){this.$router.back()},onchooseFinish:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.selectId!==t.globalFamilyId&&t.selectId){e.next=4;break}t.goBack(),e.next=10;break;case 4:return e.next=6,Object(u["G"])({dataId:t.globalDataId,roomId:t.selectId,dataTypeEnum:t.deviceDetail.dataTypeEnum});case 6:i=e.sent,n=i.data,a=i.error,n&&!a?(t.deviceDetailAction(),t.goBack(),Object(d["b"])("onDataChannel",{type:3,params:{dataId:t.globalDataId,dataTypeEnum:t.deviceDetail.dataTypeEnum}})):(t.selectId=t.deviceDetail.goalDeviceRoomId,t.$Toast.show({title:a&&a.errorMsg||"修改失败"}));case 10:case"end":return e.stop()}}),e)})))()},getRoomList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["w"])({familyId:t.globalFamilyId,contanisDevice:!1});case 2:i=e.sent,n=i.data,a=i.error,n&&!a?t.roomList=n.data||[]:t.$Toast.show({title:a.errorMsg||"获取列表失败"});case 6:case"end":return e.stop()}}),e)})))()}}),created:function(){this.getRoomList(),this.selectId=this.deviceDetail.goalDeviceRoomId},computed:Object(s["a"])(Object(s["a"])({},Object(l["c"])(["deviceDetail","globalFamilyId","globalDataId"])),{},{roomName:function(){var t,e="",i=Object(o["a"])(this.roomList);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.id===this.selectId){e=n.roomName;break}}}catch(a){i.e(a)}finally{i.f()}return e}}),components:{titleBar:c["a"]},deactivated:function(){this.selectId=""},activated:function(){this.selectId=this.deviceDetail.goalDeviceRoomId}},f=h,p=(i("e09a"),i("2877")),v=Object(p["a"])(f,n,a,!1,null,"565c0155",null);e["a"]=v.exports},5397:function(t,e,i){t.exports=i.p+"img/light.6a720370.png"},"60de":function(t,e,i){},6211:function(t,e,i){t.exports=i.p+"img/light_bot.e5a21bb6.png"},"62f1":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"switch",class:{active:t.value},on:{click:t.clickSwitch}},[i("div",{staticClass:"circle-btn"})])},a=[],o={name:"i-switch",props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{clickSwitch:function(){this.disabled||(this.$emit("input",!this.value),this.$emit("onClickSwitch"))}}},r=o,s=(i("adbc"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"69633602",null);e["a"]=c.exports},"65bd":function(t,e,i){},6974:function(t,e,i){t.exports=i.p+"img/air_fresh_gear_weak.340781e2.svg"},"6a4f":function(t,e,i){"use strict";i("1530")},"6ace":function(t,e,i){"use strict";i("856f")},"729b":function(t,e,i){t.exports=i.p+"img/network_error.146a46bb.png"},"752f":function(t,e,i){},"786a":function(t,e,i){"use strict";i("2484")},"7f6c":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("2b0e"),a=function(t){t.preventDefault()},o=n["a"].directive("CDUnTouch",{bind:function(t,e){t&&e&&(t.addEventListener("touchstart",(function(t){return document.body.addEventListener("touchmove",a,{passive:!1})}),{passive:!1}),t.addEventListener("touchend",(function(t){return document.body.removeEventListener("touchmove",a)}),{passive:!1}))}});n["a"].directive("CDTAP",(function(t,e){if(t){var i=t,n=null,a={};i.addEventListener("touchstart",(function(t){a=i.getBoundingClientRect(),0,n=setTimeout((function(){1,n&&clearTimeout(n)}),360)}),!1),document.addEventListener("touchend",(function(t){var e=t.changedTouches[0],i=e.clientX,o=e.clientY;if(i<a.left||o<a.top||i>a.right||o>a.bottom)return 0,void(n&&clearTimeout(n));0,n&&clearTimeout(n)}),!1)}}))},8568:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return r}));var n=i("b85c"),a=(i("a9e3"),function(t){if(!t)return!1;var e=null,i=null,a=null,o=null,r=null,s=null,c=null,u=null,l=null,d=null,h=null,f=null,p=null,v=null,m=null,g=null,b=null,_=null,y=null,C=null,D=null,T=null,w=null,E=null,k=null,M=null,S=null,O=null,x=null,I=null,N=null,R=null,j=null,A=null,P=null,F=null,L=null,B=null;if(t.attrs){var G,H=Object(n["a"])(t.attrs);try{for(H.s();!(G=H.n()).done;){var V=G.value;switch(V.attrHex){case 393216:o=1===Number(V.attrValue);break;case 524288:var Y=Number(V.attrValue)>254?254:Number(V.attrValue)<0?0:Number(V.attrValue);c=Math.round((Y+1)/255*100);break;case 50331651:e=V.attrValue;break;case 50331652:i=V.attrValue;break;case 50331656:a=1===Number(V.attrValue)||0===Number(V.attrValue)?"color":"temprature";break;case 50331655:u=100*Math.round(Number(V.attrValue)/100),d=(6500-u)/100;break;case 15855616:r=1===Number(V.attrValue),s=Number(V.attrValue);break;case 4229038092:l=222===Number(V.attrValue);break;case 33619968:f=Number(V.attrValue)/10|0;break;case 33619986:p=Number(V.attrValue)/10|0;break;case 33619992:v=Number(V.attrValue)/10|0;break;case 33619981:m=Number(V.attrValue)/10|0;break;case 33619990:v=Number(V.attrValue)/10|0;break;case 33619989:m=Number(V.attrValue)/10|0;break;case 33619996:g=Number(V.attrValue);break;case 4229955584:S=Number(V.attrValue);break;case 33685504:b=Number(V.attrValue);break;case 16908296:_=Number(V.attrValue);break;case 67239936:C=Number(V.attrValue)/10|0;break;case 67436544:var $=Number(V.attrValue);D=$<0?0:$,D/=100;break;case 4230021124:T=Number(V.attrValue);break;case 4230021126:w=Number(V.attrValue);break;case 4230021125:E=Number(V.attrValue);break;case 4228972545:k=Number(V.attrValue);break;case 4228907011:M=Number(V.attrValue);break;case 4230021120:S=Number(V.attrValue);break;case 4229038086:R=Number(V.attrValue);break;case 409603:N=Number(V.attrValue);break;case 4278190097:o=1==Number(V.attrValue);break;case 4278190100:g=Number(V.attrValue);break;case 4278190102:p=Math.floor(Number(V.attrValue));break;case 4278190106:l=1==Number(V.attrValue);break;case 4278190098:b=Number(V.attrValue);break;case 4228907009:O=Boolean(~~V.attrValue);break;case 4228907010:l=Boolean(~~V.attrValue);break;case 4228907012:~~V.attrValue>1&&~~V.attrValue<=127;break;case 117571584:x=~~V.attrValue;break;case 4228907264:I=Number(V.attrValue);break;case 4228907008:j=Number(V.attrValue);break;case 65569:A=Number(V.attrValue);break;case 524306:P=Math.round(Number(V.attrValue)/10);break;case 524307:F=Math.round(Number(V.attrValue)/10);break;case 50331648:L=Math.round(360*Number(V.attrValue)/254);break;case 50331649:B=Math.round(Number(V.attrValue));break}}}catch(W){H.e(W)}finally{H.f()}}return e&&i&&(h=e+" "+i),t.deviceStateEnum&&null===r&&(r="online"===t.deviceStateEnum,s="online"===t.deviceStateEnum?1:"offline"===t.deviceStateEnum?0:"offNetwork"===t.deviceStateEnum?4:"binding"===t.deviceStateEnum?7:0),t.airConditioning&&(y=t.airConditioning.childModeMinTemperature/10),{lightMode:a,isLightOn:o,isOnLine:r,onLineValue:s,degree:c,temprature:u,isChildMode:l,tempratureIdx:d,xyColor:h,airConditionTemprature:p,airConditionTempratureMax:v,airConditionTempratureMin:m,airConditionTempratureMode:g,airConditionWindSpeed:b,airConditionChildModeMinTemperature:y,homeTemprature:f,curtainPercent:_,measureTemprature:C,measureHumidity:D,pm25Value:T,co2Value:w,vocValue:E,timerDuration:k,timerStatus:M,airFresherMode:S,isEffectLight:O,electronicTotal:x,MFCMode:I,electrifyStatus:N,lightOnStatus:R,onOffSwithDeviceStatus:j,sensorPowerValue:A,lightOnStep:P,lightOffStep:F,lightHues:L,lightSaturation:B}}),o=function(t){return"number"===typeof t&&!isNaN(t)},r=function(t){return"boolean"===typeof t}},"856f":function(t,e,i){},"85b6":function(t,e,i){t.exports=i.p+"img/air_fresh_gear_strong.8bb214d2.svg"},"85bb":function(t,e,i){"use strict";i("912f")},8628:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"modal",style:{"z-index":t.zIndex},on:{touchstart:function(t){t.stopPropagation()},touchmove:function(t){t.stopPropagation()}}},[i("div",{staticClass:"mask",on:{click:function(e){return t.cancel("mask")}}}),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"modal-main"},[i("p",{staticClass:"title"},[t._v(t._s(t.title||"提示"))]),i("div",{staticClass:"content"},[t._v(t._s(t.content))]),""===t.type?i("div",{staticClass:"bot",on:{touchstart:t.onTouch}},[i("div",{staticClass:"normal"},[i("span",{staticClass:"cancel",on:{click:function(e){return t.cancel("btn")}}},[t._v(t._s(t.cancelText))]),i("span",{staticClass:"line"}),i("span",{staticClass:"comfirm",on:{click:t.comfirm}},[t._v(t._s(t.okText))])])]):t._e(),"one"===t.type?i("div",{staticClass:"bot",on:{touchstart:t.onTouch,click:function(e){return e.stopPropagation(),t.comfirm(e)}}},[t._t("default",[t._v("我知道了")])],2):t._e()])])],1)},a=[],o=(i("a9e3"),{name:"modal",props:{dismiss:{type:Boolean,default:!0},value:{type:Boolean,default:!1},zIndex:{type:Number,default:123456789},content:{type:String},title:{type:String},type:{type:String,default:""},okText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},maskCancel:{type:Boolean,default:!1}},data:function(){return{isShow:!1,isTouch:!1}},methods:{onTouch:function(t){this.isTouch=!0},comfirm:function(t){this.isTouch&&(this.dismiss&&(this.isShow=!1,this.isTouch=!1,this.$emit("input",!1)),this.$emit("on-ok"))},cancel:function(t){("mask"!==t||this.maskCancel)&&(this.$emit("on-cancel"),this.dismiss&&(this.$emit("input",!1),this.isShow=!1))}},watch:{value:function(t){this.isShow=t}},created:function(){this.isShow=this.value}}),r=o,s=(i("6a4f"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"80d73cb0",null);e["a"]=c.exports},8927:function(t,e,i){},"8a27":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"rollCircle",staticClass:"rollLoading"},[i("div",{staticClass:"roll-circle",style:{width:t.len+"px",height:t.len+"px"}},[i("svg",{staticClass:"center",attrs:{width:t.len,height:t.len}},[i("defs",[i("linearGradient",{attrs:{x1:"1",y1:"0",x2:"0",y2:"0",id:"gradient1"}},[i("stop",{style:{"stop-color":t.startColor},attrs:{offset:"0%"}}),i("stop",{style:{"stop-color":t.stopColor},attrs:{offset:"60%"}}),i("stop",{style:{"stop-color":t.stopColor},attrs:{offset:"100%"}})],1)],1),i("g",{attrs:{transform:"matrix(0,-1,1,0,0,"+t.len+")"}},[i("circle",{attrs:{cx:t.len/2,cy:t.len/2,r:t.r,"stroke-width":t.strokeWidth,stroke:"url('#gradient1')",fill:"none","stroke-dasharray":t.radiusL+" "+t.radiusL}})])])])])},a=[],o=(i("a9e3"),{name:"rollLoading",props:{strokeWidth:{type:Number,default:5},startColor:{type:String,default:"rgba(255, 255, 255, 1)"},stopColor:{type:String,default:"rgba(255, 255, 255, 0.1)"},duration:{type:Number,default:2e3},value:{type:Boolean,default:!1}},data:function(){return{timer:null,len:0,radiusL:0,r:0}},methods:{init:function(){var t=this,e=this.$refs.rollCircle.getBoundingClientRect(),i=e.width,n=e.height,a=0;a=i>0&&n>0?Math.min(i,n):i>0?i:n,this.len=a,this.radiusL=2*Math.PI*a/2,this.r=a/2-10>0?a/2-10:a/2,this.timer=setTimeout((function(){t.$emit("input",!1),t.$emit("on-hide"),t.timer&&clearTimeout(t.timer)}),this.duration)}},beforeDestroy:function(){this.timer&&clearTimeout(this.timer)},mounted:function(){this.init()},watch:{value:function(t){t&&this.init()}}}),r=o,s=(i("f4e4"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"7d441412",null);e["a"]=c.exports},"8a2e":function(t,e,i){t.exports=i.p+"img/air_fresh_gear_turnoff.8451ce46.svg"},9032:function(t,e,i){t.exports=i.p+"img/no_scenes.ae2d4e1e.png"},"912f":function(t,e,i){},"9c1f":function(t,e,i){"use strict";i("263f")},"9c4e":function(t,e,i){},a32a:function(t,e,i){},a6b2:function(t,e,i){},a789:function(t,e,i){t.exports=i.p+"img/hsv_color_panel.e4ee334c.png"},adbc:function(t,e,i){"use strict";i("3e35")},afe3:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title-bar"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.active,expression:"!active"}],staticClass:"left title-name"},[i("span",{staticClass:"iconfont icon-back",on:{click:t.goback}}),t._t("title",[i("p",{staticClass:"title"},[t._v(t._s(t.title))])])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"left second"},[i("span",{staticClass:"iconfont icon-back",on:{click:t.clickOption}}),i("p",{staticClass:"title"},[t._v("设置")])]),t.showRight&&!t.active?i("div",{staticClass:"right"},[t._t("right",[i("div",{staticClass:"lines"},[i("div",{class:{active:t.active},attrs:{id:"option_svg"},on:{click:t.clickOption}},[i("div",{staticClass:"px-option_svg_item ",attrs:{id:"option_svg_top"}}),i("div",{staticClass:"px-option_svg_item",attrs:{id:"option_svg_mid"}}),i("div",{staticClass:"px-option_svg_item",attrs:{id:"option_svg_bot"}})])])])],2):t._e(),i("transition",{attrs:{name:"slide"}},[t.active&&"scene"===t.optionType?i("device-options",{attrs:{isShow:t.active}}):t._e(),t.active&&"light"===t.optionType?i("device-options-light",{attrs:{isShow:t.active}}):t._e()],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"device-options",class:{active:t.showAnimation}},[i("transition",{attrs:{name:"opt-slide-two"}},[t.showAnimation?i("div",{staticClass:"options-normal"},[i("p",{staticClass:"title"},[t._v("常规")]),i("div",{staticClass:"cell",on:{click:function(e){return t.clickCell("deviceName")}}},[i("div",{staticClass:"left"},[t._v("设备名称")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips name"},[t._v(t._s(t.deviceDetail.deviceName))]),i("span",{staticClass:"iconfont icon-right"})])]),i("div",{staticClass:"cell",on:{click:t.goDeviceRoom}},[i("div",{staticClass:"left"},[t._v("设备房间")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips name"},[t._v(t._s(t.deviceDetail.goalDeviceRoomName))]),i("span",{staticClass:"iconfont icon-right"})])]),i("div",{staticClass:"cell",on:{click:t.goFeedback}},[i("div",{staticClass:"left"},[t._v("问题反馈")]),i("div",{staticClass:"right"},[i("span",{staticClass:"iconfont icon-right"})])])]):t._e()]),i("transition",{attrs:{name:"opt-slide-three"}},[t.showAnimation?i("div",{staticClass:"options-info"},[i("p",{staticClass:"title"},[t._v("信息")]),i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("型号")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.deviceTypeCode))])])]),i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("MAC地址")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.deviceMac||"-"))])])]),i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("所属网关MAC地址")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.parentMac||"-"))])])]),i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("SN码")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.snCode||"-"))])])]),i("div",{staticClass:"cell",on:{click:t.goVersion}},[i("div",{staticClass:"left",class:{active:t.deviceDetail.hasNewVersion}},[t._v("软件版本")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v("V"+t._s(t.deviceDetail.softVersion))]),i("span",{staticClass:"iconfont icon-right"})])])]):t._e()]),i("transition",{attrs:{name:"opt-slide-four"}},[t.showAnimation?i("div",{staticClass:"del-btn",on:{click:t.clickDel}},[t._v("删除设备")]):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.nameModal,expression:"nameModal"}],staticClass:"device-name-modal",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()},click:function(e){return e.stopPropagation(),t.forceFocus(e)}}},[i("div",{staticClass:"mask"}),i("div",{staticClass:"main"},[i("div",{staticClass:"nav"},[i("span",{staticClass:"cancel",on:{click:function(e){return e.stopPropagation(),t.clickCancel(e)}}},[t._v("取消")]),i("span",{staticClass:"name"},[t._v("修改设备名称")]),i("span",{staticClass:"comfirm",on:{click:function(e){return e.stopPropagation(),t.onComfirm(e)}}},[t._v("确定")])]),i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceName,expression:"deviceName"}],ref:"inputArea",staticClass:"input-area",attrs:{maxlength:20,autofocus:"",type:"text"},domProps:{value:t.deviceName},on:{input:function(e){e.target.composing||(t.deviceName=e.target.value)}}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.deviceName,expression:"deviceName"}],staticClass:"iconfont icon-close",on:{click:function(e){t.deviceName=""}}})]),i("div",{staticClass:"tips"},[i("span",[t._v("支持中/英文/数字/符号")]),i("span",[t._v(t._s(t.deviceName&&t.deviceName.length||0)+"/20")])])])]),i("Modal",{attrs:{title:"删除设备",content:"设备删除后将从您的家庭中移除，确定要删除吗"},on:{"on-ok":t.onDel},model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}})],1)},r=[],s=i("1da1"),c=i("5530"),u=(i("96cf"),i("0c6d")),l=i("2f62"),d=i("8628"),h=i("0530"),f=i("44ef"),p={name:"DeviceOptions",props:{isShow:{type:Boolean}},data:function(){return{showAnimation:!1,switchStatus:!1,nameModal:!1,deviceName:"",delModal:!1}},methods:Object(c["a"])(Object(c["a"])({},Object(l["d"])(["setDeviceDetail","setDeviceDataModify"])),{},{goDeviceRoom:function(){this.$router.push({name:"DeviceRoom",query:{slideWay:"left"}})},goVersion:function(){this.deviceDetail?Object(h["b"])("onNavigateTo",{type:1,data:this.deviceDetail}):this.$Toast.show({title:"参数错误"})},goFeedback:function(){this.deviceDetail?Object(h["b"])("onNavigateTo",{type:2,data:this.deviceDetail}):this.$Toast.show({title:"参数错误"})},clickDel:function(){this.delModal=!0},clickChangeName:function(){var t=this;this.nameModal=!0,this.deviceName=this.deviceDetail.deviceName,this.$nextTick((function(){t.forceFocus()}))},clickCancel:function(){this.deviceName=this.deviceDetail.deviceName,this.nameModal=!1},onClickSwitch:function(){this.switchStatus=!this.switchStatus},clickCell:function(t){"deviceName"===t&&this.clickChangeName()},forceFocus:function(t){t&&t.preventDefault(),t&&t.stopPropagation(),this.$refs.inputArea.focus()},onComfirm:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,a,o,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t&&t.preventDefault(),t&&t.stopPropagation(),!f["a"].test(e.deviceName)){i.next=6;break}return e.$Toast.show({title:"设备名称只支持中文、英文、数字、符号",postion:"bottom"}),e.forceFocus(),i.abrupt("return");case 6:if(e.deviceName){i.next=10;break}return e.$Toast.show({title:"请输入设备名称",postion:"bottom"}),e.forceFocus(),i.abrupt("return");case 10:return i.next=12,Object(u["n"])({dataId:e.globalDataId,dataTypeEnum:e.deviceDetail.dataTypeEnum,deviceName:e.deviceName});case 12:n=i.sent,a=n.data,o=n.error,a&&!o?(r=e.deviceDetail,r.deviceName=e.deviceName,e.setDeviceDetail(r),e.clickCancel(),Object(h["b"])("onDataChannel",{type:3,params:{dataId:e.globalDataId,dataTypeEnum:e.deviceDetail.dataTypeEnum}})):e.$Toast.show({title:o.msg});case 16:case"end":return i.stop()}}),i)})))()},onDel:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["k"])({dataId:t.deviceDetail.dataId,dataTypeEnum:t.deviceDetail.dataTypeEnum});case 2:i=e.sent,i.data,n=i.error,n?t.$Toast.show({title:n.msg}):(t.$Toast.show({title:"操作成功"}),Object(h["b"])("onDataChannel",{type:4,params:{dataId:t.globalDataId,dataTypeEnum:t.deviceDetail.dataTypeEnum}}),Object(h["b"])("onNavigateTo",{type:0}));case 6:case"end":return e.stop()}}),e)})))()}}),mounted:function(){this.showAnimation=this.isShow},computed:Object(c["a"])({},Object(l["c"])(["deviceDetail","globalDataId"])),watch:{deviceDetail:function(t){t&&(this.deviceName=this.deviceDetail.deviceName)}},components:{Modal:d["a"]}},v=p,m=(i("2973"),i("2877")),g=Object(m["a"])(v,o,r,!1,null,"51e7e981",null),b=g.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"device-options",class:{active:t.showAnimation}},[i("transition",{attrs:{name:"opt-slide"}},[t.childModeShow||t.deviceDetail.ifGroupAble||"no"===t.deviceDetail.ifLogicGroupEnum&&"RGBCW2"===t.deviceDetail.zigbeeTypeEnum?i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAnimation,expression:"showAnimation"}],staticClass:"options-func"},[i("p",{staticClass:"title"},[t._v("功能")]),t.childModeShow?i("div",{staticClass:"cell",on:{click:t.goChildMode}},[i("div",{staticClass:"left"},[t._v("儿童模式")]),i("div",{staticClass:"right"},[i("span",{staticClass:"iconfont icon-right"})])]):t._e(),t.deviceDetail.ifGroupAble?i("div",{staticClass:"cell",on:{click:t.goGroup}},[i("div",{staticClass:"left"},[t._v(" "+t._s("no"===t.deviceDetail.ifLogicGroupEnum?"创建编组":"编组管理")+" ")]),i("div",{staticClass:"right"},[i("span",{staticClass:"iconfont icon-right"})])]):t._e(),i("div",{staticClass:"cell",on:{click:t.goLightStatus}},[i("div",{staticClass:"left"},[t._v("灯光状态")]),i("div",{staticClass:"right"},[i("span",{staticClass:"iconfont icon-right"})])])]):t._e()]),i("transition",{attrs:{name:"opt-slide-two"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAnimation,expression:"showAnimation"}],staticClass:"options-normal"},[i("p",{staticClass:"title"},[t._v("常规")]),i("div",{staticClass:"cell",on:{click:function(e){return t.clickCell("deviceName")}}},[i("div",{staticClass:"left"},[t._v("设备名称")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips name"},[t._v(t._s(t.deviceDetail.deviceName))]),i("span",{staticClass:"iconfont icon-right"})])]),i("div",{staticClass:"cell",on:{click:t.goDeviceRoom}},[i("div",{staticClass:"left"},[t._v("设备房间")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips name"},[t._v(t._s(t.deviceDetail.goalDeviceRoomName))]),i("span",{staticClass:"iconfont icon-right"})])]),i("div",{staticClass:"cell",on:{click:t.goScenePage}},[i("div",{staticClass:"left"},[t._v("场景")]),t.deviceDetail.ownedCount>0?i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.ownedCount)+"个")]),i("span",{staticClass:"iconfont icon-right"})]):i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v("无")])])]),i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("添加到常用")]),i("div",{staticClass:"right"},[i("i-switch",{on:{onClickSwitch:t.clickUsually},model:{value:t.isUsually,callback:function(e){t.isUsually=e},expression:"isUsually"}})],1)]),"yes"!==t.deviceDetail.ifLogicGroupEnum?i("div",{staticClass:"cell",on:{click:t.goFeedback}},[i("div",{staticClass:"left"},[t._v("问题反馈")]),i("div",{staticClass:"right"},[i("span",{staticClass:"iconfont icon-right"})])]):t._e()])]),i("transition",{attrs:{name:"opt-slide-three"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAnimation,expression:"showAnimation"}],staticClass:"options-info"},[i("p",{staticClass:"title"},[t._v("信息")]),t.deviceDetail&&t.deviceDetail.ifLogicGroupEnum&&"yes"!==t.deviceDetail.ifLogicGroupEnum?i("div",[i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("型号")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.deviceTypeCode))])])]),i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("MAC地址")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.deviceMac||"-"))])])]),i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("所属网关MAC地址")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.parentMac||"-"))])])]),i("div",{staticClass:"cell"},[i("div",{staticClass:"left"},[t._v("SN码")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v(t._s(t.deviceDetail.snCode||"-"))])])]),i("div",{staticClass:"cell",on:{click:t.goVersion}},[i("div",{staticClass:"left",class:{active:t.deviceDetail.hasNewVersion}},[t._v("软件版本")]),i("div",{staticClass:"right"},[i("span",{staticClass:"tips"},[t._v("V"+t._s(t.deviceDetail.softVersion))]),i("span",{staticClass:"iconfont icon-right"})])])]):i("div",t._l(t.groupList,(function(e,n){return i("div",{key:n,staticClass:"cell",on:{click:function(i){return t.goGroupDetail(e)}}},[i("div",{staticClass:"left"},[t._v(t._s(e.deviceName))]),i("div",{staticClass:"right"},[i("span",{staticClass:"iconfont icon-right"})])])})),0)])]),i("transition",{attrs:{name:"opt-slide-four"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAnimation,expression:"showAnimation"}]},["yes"!==t.deviceDetail.ifLogicGroupEnum?i("div",{staticClass:"del-btn",on:{click:function(e){return t.clickDel(0)}}},[t._v("删除设备")]):t._e(),"yes"===t.deviceDetail.ifLogicGroupEnum?i("div",{staticClass:"del-btn",on:{click:function(e){return t.clickDel(1)}}},[t._v("解散编组")]):t._e()])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.nameModal,expression:"nameModal"}],staticClass:"device-name-modal",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()},click:function(e){return e.stopPropagation(),t.forceFocus(e)}}},[i("div",{staticClass:"mask"}),i("div",{staticClass:"main"},[i("div",{staticClass:"nav"},[i("span",{staticClass:"cancel",on:{click:t.clickCancel}},[t._v("取消")]),i("span",{staticClass:"name"},[t._v("修改设备名称")]),i("span",{staticClass:"comfirm",on:{click:t.onComfirm}},[t._v("确定")])]),i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceName,expression:"deviceName"}],ref:"inputArea",staticClass:"input-area",attrs:{maxlength:20,autofocus:"",type:"text"},domProps:{value:t.deviceName},on:{input:function(e){e.target.composing||(t.deviceName=e.target.value)}}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.deviceName,expression:"deviceName"}],staticClass:"iconfont icon-close",on:{click:function(e){t.deviceName=""}}})]),i("div",{staticClass:"tips"},[i("span",[t._v("支持中/英文/数字/符号")]),i("span",[t._v(t._s(t.deviceName&&t.deviceName.length||0)+"/20")])])])]),i("Modal",{attrs:{title:"温馨提示",type:"one",content:t.deviceDisableContent},model:{value:t.deviceDisableModal,callback:function(e){t.deviceDisableModal=e},expression:"deviceDisableModal"}}),i("Modal",{attrs:{title:"删除设备",content:"设备删除后将从您的家庭中移除，确定要删除吗"},on:{"on-ok":t.onDel},model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}}),i("Modal",{attrs:{title:"温馨提示",content:"确认要解散灯组吗"},on:{"on-ok":t.onDel},model:{value:t.delGroupModal,callback:function(e){t.delGroupModal=e},expression:"delGroupModal"}})],1)},y=[],C=(i("a9e3"),i("62f1")),D=i("ed08"),T={name:"DeviceOptions",props:{isShow:{type:Boolean}},data:function(){return{deviceZigbeeType:D["b"],showAnimation:!1,isUsually:!1,nameModal:!1,deviceName:"",delModal:!1,delGroupModal:!1,groupList:[],deviceDisableModal:!1,deviceDisableContent:""}},methods:Object(c["a"])(Object(c["a"])({},Object(l["d"])(["setDeviceDetail","setDeviceDataModify"])),{},{_showOfflineModal:function(){var t="暂时无法操作",e=Number(this.globalDeviceStatus);return"number"===typeof e&&(1===e||5===e||(t=4===e?"设备离网，请重新入网使用":7===e?"设备配置中，请稍等片刻":"设备离线，暂时无法操作",this.deviceDisableContent=t,this.deviceDisableModal=!0,!1))},goGroupDetail:function(t){t&&this.$router.push({name:"GroupDeviceList",query:{slideWay:"left",dataId:t.dataId,dataTypeEnum:t.dataTypeEnum}})},goDeviceRoom:function(){this.$router.push({name:"DeviceRoom",query:{slideWay:"left"}})},goScenePage:function(){this.deviceDetail.ownedCount<=0||this.$router.push({name:"ScenePage",query:{slideWay:"left"}})},goGroup:function(){this._showOfflineModal()&&(this.deviceDetail?Object(h["b"])("onNavigateTo",{type:3,data:this.deviceDetail}):this.$Toast.show({title:"参数错误"}))},goVersion:function(){this._showOfflineModal()&&(this.deviceDetail?Object(h["b"])("onNavigateTo",{type:1,data:this.deviceDetail}):this.$Toast.show({title:"参数错误"}))},goFeedback:function(){this.deviceDetail?Object(h["b"])("onNavigateTo",{type:2,data:this.deviceDetail}):this.$Toast.show({title:"参数错误"})},goChildMode:function(){this._showOfflineModal()&&(this.dev||this.$router.push({name:"childMode",query:{slideWay:"left"}}))},goLightStatus:function(){this._showOfflineModal()&&this.$router.push({name:"lightStatus",query:{slideWay:"left"}})},clickDel:function(t){0===t?this.delModal=!0:this.delGroupModal=!0},clickChangeName:function(){var t=this;this.nameModal=!0,this.deviceName=this.deviceDetail.deviceName,this.$nextTick((function(){t.forceFocus()}))},clickCancel:function(){this.deviceName=this.deviceDetail.deviceName,this.nameModal=!1},onClickSwitch:function(){this.switchStatus=!this.switchStatus},clickCell:function(t){"deviceName"===t&&this.clickChangeName()},forceFocus:function(t){t&&t.preventDefault(),t&&t.stopPropagation(),this.$refs.inputArea.focus()},clickUsually:function(){Object(h["b"])("onDataChannel",{type:0}),this.isUsually?this.addToUsually():this.removeUsually()},removeUsually:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,n,a,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={dataId:t.deviceDetail.dataId,dataTypeEnum:t.deviceDetail.dataTypeEnum||"device"},e.next=3,Object(u["C"])(i);case 3:n=e.sent,a=n.data,o=n.error,a&&!o?(r=t.deviceDetail||{},r.ifMostUsed=!1,t.setDeviceDetail(r)):(t.isUsually=!t.isUsually,t.$Toast.show({title:"设置失败"}));case 7:case"end":return e.stop()}}),e)})))()},addToUsually:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,n,a,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={dataId:t.deviceDetail.dataId,dataTypeEnum:t.deviceDetail.dataTypeEnum||"device"},e.next=3,Object(u["f"])(i);case 3:n=e.sent,a=n.data,o=n.error,a&&!o?(r=t.deviceDetail||{},r.ifMostUsed=!0,t.setDeviceDetail(r)):(t.isUsually=!t.isUsually,t.$Toast.show({title:"设置失败"}));case 7:case"end":return e.stop()}}),e)})))()},onComfirm:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,a,o,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t&&t.preventDefault(),!f["a"].test(e.deviceName)){i.next=5;break}return e.$Toast.show({title:"设备名称只支持中文、英文、数字、符号",postion:"bottom"}),e.forceFocus(),i.abrupt("return");case 5:if(e.deviceName){i.next=9;break}return e.$Toast.show({title:"请输入设备名称",postion:"bottom"}),e.forceFocus(),i.abrupt("return");case 9:return i.next=11,Object(u["n"])({dataId:e.globalDataId,dataTypeEnum:e.deviceDetail.dataTypeEnum,deviceName:e.deviceName});case 11:n=i.sent,a=n.data,o=n.error,a&&!o?(r=e.deviceDetail,r.deviceName=e.deviceName,e.setDeviceDetail(r),e.clickCancel(),e.$refs.inputArea.blur(),Object(h["b"])("onDataChannel",{type:3,params:{dataId:e.globalDataId,dataTypeEnum:e.deviceDetail.dataTypeEnum}})):e.$Toast.show({title:o.msg});case 15:case"end":return i.stop()}}),i)})))()},onDel:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["k"])({dataId:t.deviceDetail.dataId,dataTypeEnum:t.deviceDetail.dataTypeEnum});case 2:i=e.sent,i.data,n=i.error,n?t.$Toast.show({title:n.msg}):(t.$Toast.show({title:"操作成功"}),Object(h["b"])("onDataChannel",{type:4,params:{dataId:t.globalDataId,dataTypeEnum:t.deviceDetail.dataTypeEnum}}),Object(h["b"])("onNavigateTo",{type:0}));case 6:case"end":return e.stop()}}),e)})))()},getGroupDeviceData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["v"])({dataId:t.deviceDetail.dataId,dataTypeEnum:t.deviceDetail.dataTypeEnum});case 2:i=e.sent,n=i.data,a=i.error,n&&!a&&(t.groupList=n.data||[]);case 6:case"end":return e.stop()}}),e)})))()}}),mounted:function(){this.showAnimation=this.isShow,this.isUsually=this.deviceDetail.ifMostUsed},created:function(){"yes"===this.deviceDetail.ifLogicGroupEnum&&this.getGroupDeviceData()},computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["deviceDetail","globalDataId","globalDeviceStatus"])),{},{childModeShow:function(){return"ZIGBEE_TYPE_HOME_ALL_LIGHT"===this.deviceZigbeeType[this.deviceDetail.zigbeeTypeEnum]||"ZIGBEE_TYPE_HOME_TEMPERATURE_LIGHT"===this.deviceZigbeeType[this.deviceDetail.zigbeeTypeEnum]}}),watch:{deviceDetail:function(t){t&&(this.deviceName=this.deviceDetail.deviceName,this.isUsually=this.deviceDetail.ifMostUsed)}},components:{Modal:d["a"],iSwitch:C["a"]}},w=T,E=(i("ec34"),Object(m["a"])(w,_,y,!1,null,"45511d24",null)),k=E.exports,M={name:"titleBar",props:{title:String,showRight:{type:Boolean,default:!0},optionType:{type:String,default:"scene"}},data:function(){return{active:!1}},methods:{clickOption:function(){this.active=!this.active},goback:function(){this.$emit("goBack")}},components:{DeviceOptions:b,DeviceOptionsLight:k}},S=M,O=(i("85bb"),Object(m["a"])(S,n,a,!1,null,"e2039770",null));e["a"]=O.exports},b1ae:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:t.slideName}},[t.isShow&&1===t.type?i("div",{staticClass:"toast",class:t.postion,style:{"z-index":t.zIndex}},[i("p",{staticClass:"title"},[t._v(t._s(t.title||"服务出错"))])]):t._e(),t.isShow&&2===t.type?i("div",{staticClass:"toast white",style:{"z-index":t.zIndex}},[i("span",{staticClass:"iconfont icon-check"}),i("span",{staticClass:"txt"},[t._v("记忆成功")])]):t._e()])},a=[],o=(i("a9e3"),{name:"modal",props:{zIndex:{type:Number,default:999999},title:{type:String},type:{type:Number,default:function(){return 1}},postion:{type:String,default:"top"}},data:function(){return{isShow:!1}},methods:{cancel:function(){this.isShow=!1,this.$destroy(),this.$el&&document.removeChild(this.$el)}},watch:{value:function(t){this.isShow=t}},computed:{slideName:function(){return"fade_"+this.postion}}}),r=o,s=(i("1155"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"1fa60e3c",null),u=c.exports,l=i("2b0e"),d=l["a"].extend(u),h=123456789,f=2e3;e["a"]={show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new d({el:document.createElement("div")});e.zIndex=2+ ++h,e.title=t.title,e.type=t.type||1,e.postion=t.postion,document.body.appendChild(e.$el),l["a"].nextTick((function(){e.isShow=!0;var i=setTimeout((function(){e.isShow=!1,e.$destroy(),document.body.removeChild(document.getElementsByClassName("toast")[0]),e=null,i&&clearTimeout(i)}),t.duration||f)}))}}},b8be:function(t,e,i){},be35:function(t,e,i){},befd:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scenePage"},[i("title-bar",{staticClass:"title-area",attrs:{showRight:!1},on:{goBack:t.goBack},scopedSlots:t._u([{key:"title",fn:function(){return[i("span",{staticClass:"title"},[t._v("设备所在场景")])]},proxy:!0}])}),i("div",{staticClass:"main"},[t._l(t.list,(function(e,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],key:n,staticClass:"scene-item"},[i("p",{staticClass:"room-name"},[t._v(t._s(e.roomName||""))]),i("img",{staticClass:"scene-bg",attrs:{src:e.sceneIconAbs,alt:""}}),i("div",[i("p",{staticClass:"name"},[t._v(t._s(e.sceneName))]),i("p",{staticClass:"nums"},[t._v(t._s(e.deviceCount)+"台设备")])])])})),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading-wrap"},[i("loading-comp",{attrs:{maskColor:"transparent",color:"rgba(0,0,0,0.2)"}})],1)],2)],1)},a=[],o=i("5530"),r=i("1da1"),s=(i("96cf"),i("afe3")),c=i("0c6d"),u=i("2f62"),l=i("3a5e"),d={name:"scenePage",data:function(){return{list:[],isLoading:!1}},methods:{goBack:function(){this.$router.back()},getData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,Object(c["m"])({endpointId:t.deviceDetail.dataId});case 3:i=e.sent,n=i.data,a=i.error,t.isLoading=!1,n&&!a&&(t.list=n.data||[]);case 8:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()},computed:Object(o["a"])({},Object(u["c"])(["deviceDetail"])),components:{titleBar:s["a"],loadingComp:l["a"]}},h=d,f=(i("786a"),i("2877")),p=Object(f["a"])(h,n,a,!1,null,"5d0fde1b",null);e["a"]=p.exports},d04c:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"lineWrap",staticClass:"degree",style:{height:t.boxHeight+"px"},on:{touchstart:t.onTouchStart,touchmove:t.onTouchMove,touchend:t.onTouchEnd}},[i("div",{staticClass:"px-line-wrap",style:{top:t.moveY+"px"}},t._l(this.maxUnit,(function(e){return i("div",{key:e,staticClass:"px-line line-position",class:{long:e%2===0},style:{height:1.5*t.devicePixelRatio/3+"px",marginBottom:t.lineMargin+"px"}})})),0),i("div",{staticClass:"px-indecator line-indicator",style:{"background-color":t.isLightOn&&!t.disabled?"#D80200":"",height:2*t.devicePixelRatio/2+"px",top:t.indicatorY+"px"}})])},a=[],o=(i("a9e3"),i("ed08"),{name:"DegreeSlide",props:{disabled:{type:Boolean,default:function(){return!1}},dpr:{type:Number,default:function(){return 28}},maxUnit:{type:Number,default:function(){return 100}},startDegree:{type:Number,default:function(){return 0}},endDegree:{type:Number,default:function(){return 99}},isLightOn:{type:Boolean,default:function(){return!1}},miniDegree:{type:Boolean,default:function(){return!1}},curDegree:{type:Number,default:function(){return 0}}},data:function(){return{moveY:0,EndY:0,devicePixelRatio:1,moveNum:0,targetDegree:0,currentDegree:0,UpTop:0,BottomTop:0,slideDirection:"",slideDistance:0,slideMode:"normal",lineHeight:0,lineGap:0,lineMargin:0,indicatorY:0,initLineMargin:28,boxHeight:0,initBoxHeight:0,boxTop:0}},methods:{setDPR:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:28;this.devicePixelRatio=window.devicePixelRatio,this.lineMargin=t/this.devicePixelRatio},setLinesOffset:function(){var t=this;this.$nextTick((function(){var e=t.miniDegree?1:1.2;if(t.boxHeight=t.initBoxHeight*e,t.indicatorY=t.boxHeight/2,t.lines=document.querySelectorAll(".px-line"),t.lines&&t.lines.length){var i=t.lines[0].getBoundingClientRect().top,n=t.lines[1].getBoundingClientRect().top;t.lineHeight=t.lines[0].getBoundingClientRect().height,t.lineGap=Math.abs(i-n),t.offsetObj={};for(var a=0;a<t.maxUnit;a++)t.offsetObj[a]=t.lineGap*a+t.indicatorY;t.UpTop=t.offsetObj[0],t.BottomTop=t.indicatorY-(t.offsetObj[t.DValue]-t.offsetObj[0]);var o=t.currentDegree>t.maxUnit-1?t.maxUnit-1:t.currentDegree;t.moveY=t.indicatorY-(t.offsetObj[o]-t.offsetObj[0]),t.EndY=t.moveY}}))},onTouchStart:function(t){if(!this.disabled&&this.isLightOn){var e=this;cancelAnimationFrame(e.requestAnimationFrameHandler),this.startY=t.touches[0].clientY,this.startTime=(new Date).getTime(),this.$emit("onFingerTouch",!0)}},onTouchMove:function(t){if(!this.disabled&&this.isLightOn){var e=t.touches[0].clientY,i=this.EndY+e-this.startY;i=i>=this.UpTop?this.UpTop:i<=this.BottomTop?this.BottomTop:i,this.moveY=i,this._emitSlide()}},onTouchEnd:function(t){if(!this.disabled&&this.isLightOn){this.$emit("onFingerTouch",!1);var e=t.changedTouches[0],i=e.clientY-this.startY;this.EndY=this.moveY;var n=i/this.lineGap,a=Math.round(Math.abs(i/this.lineGap));if(this._setDegree(i,n),this.moveNum=a,0===a)this.targetY=this.indicatorY-(this.offsetObj[this.currentDegree]-this.offsetObj[0]),this.slideMode="slow";else{var o=(new Date).getTime(),r=o-this.startTime;if(r<200&&a>2){var s=i>0?-a:a,c=this.currentDegree+s,u=this.lines.length-1;c=c<=u?c>=0?c:0:u,this.currentDegree=c,this.targetY=this.indicatorY-(this.offsetObj[c]-this.offsetObj[0]),this.slideMode="fast"}else this.slideMode="normal",this.targetY=this.indicatorY-(this.offsetObj[this.currentDegree]-this.offsetObj[0])}this.slideDistance=Math.abs(this.targetY-this.moveY),this.handleSlide();var l=this.currentDegree>this.DValue?this.DValue+1:this.currentDegree+this.startDegree;this.$emit("onSlide",l,!0)}},_setDegree:function(t,e){this.slideDirection=t>0?"up":"down";var i=this.currentDegree-Math.round(e);this.currentDegree=i<0?0:i>this.DValue?this.DValue:i},_setSpeed:function(){var t=(this.moveNum+1)/2,e=Math.abs(this.targetY-this.moveY)/this.slideDistance;return e>.5?t*=3:e<.2&&("fast"===this.slideMode&&e<.1?t/=4:t/=2),t},_emitSlide:function(){this.targetDegree=(this.indicatorY-this.moveY)/this.lineGap|0,this.$emit("onSlide",this.targetDegree+this.startDegree)},handleSlide:function(){var t=this,e=this.moveY,i=this._setSpeed();this._emitSlide(),this.slideDirection?this.targetY>this.moveY?(e+=i,this.moveY=e>this.targetY?this.targetY:e,this.EndY=this.moveY,this.requestAnimationFrameHandler=requestAnimationFrame(t.handleSlide)):this.targetY<this.moveY?(e-=i,this.moveY=e<this.targetY?this.targetY:e,this.EndY=this.moveY,this.requestAnimationFrameHandler=requestAnimationFrame(t.handleSlide)):(this.moveY=this.targetY,this.requestAnimationFrameHandler&&cancelAnimationFrame(t.requestAnimationFrameHandler)):(this.moveY=this.targetY,this.requestAnimationFrameHandler&&cancelAnimationFrame(t.requestAnimationFrameHandler))},_initDegree:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.curDegree;this.currentDegree=t-1>0?t-1:0,this.targetDegree=t-1>0?t-1:0}},created:function(){this._initDegree(),this.setDPR(this.dpr)},mounted:function(){var t=this.$refs.lineWrap.getBoundingClientRect();this.boxTop=t.top;var e=document.body.offsetHeight||400;this.initBoxHeight=e/2.4,this.setLinesOffset(),this.$emit("onSlide",this.currentDegree)},computed:{DValue:function(){return this.endDegree-this.startDegree}}}),r=o,s=(i("ffb8"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"5bc7e22b",null);e["a"]=c.exports},d546:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title-bar"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.active,expression:"!active"}],staticClass:"left"},[i("span",{staticClass:"iconfont icon-back",on:{click:t.goback}}),t._t("title",[i("p",{staticClass:"title"},[t._v(t._s(t.title))])])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"left",class:{center:t.active}},[i("span",{staticClass:"iconfont icon-back ",on:{click:t.clickOption}}),i("p",{staticClass:"title"},[t._v("设置")])]),t.showRight&&!t.active?i("div",{staticClass:"right"},[t._t("right",[i("div",{staticClass:"lines"},[i("div",{class:{active:t.active},attrs:{id:"option_svg"},on:{click:t.clickOption}},[i("div",{staticClass:"px-option_svg_item ",attrs:{id:"option_svg_top"}}),i("div",{staticClass:"px-option_svg_item",attrs:{id:"option_svg_mid"}}),i("div",{staticClass:"px-option_svg_item",attrs:{id:"option_svg_bot"}})])])])],2):t._e(),i("transition",{attrs:{name:"slide"}},[t.active?t._t("options",null,{active:t.active}):t._e()],2)],1)},a=[],o={name:"ToolBar",props:{title:String,showRight:{type:Boolean,default:!0}},data:function(){return{active:!1}},methods:{clickOption:function(){this.active=!this.active},goback:function(){this.$emit("goBack")}}},r=o,s=(i("23b5"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"2bf45d1e",null);e["a"]=c.exports},da71:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n="h5-2.0.6"},db68:function(t,e,i){t.exports=i.p+"img/childmode.9a885283.png"},e09a:function(t,e,i){"use strict";i("a6b2")},e24b:function(t,e,i){"use strict";var n=i("d4ec"),a=i("bee2"),o=(i("fb6a"),i("a434"),i("159b"),function(){function t(e,i){Object(n["a"])(this,t),this.lazyImages=Array.prototype.slice.call(document.querySelectorAll(e)),this.wrapSelector=document.querySelector(i),this.init()}return Object(a["a"])(t,[{key:"inViewShow",value:function(){for(var t=this.lazyImages.length,e=0;e<t;e++){var i=this.lazyImages[e],n=i.getBoundingClientRect();n.top-100<document.documentElement.clientHeight&&(i.src=i.dataset.src,this.lazyImages.splice(e,1),t--,e--,0===this.lazyImages.length&&this.wrapSelector.removeEventListener("scroll",this._throttleFn))}}},{key:"throttle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=null,a=null,o=this;return function(){var r=+new Date,s=Array.prototype.slice.call(arguments);clearTimeout(a),n||(n=r),r-n>i?(t.apply(o,s),n=r):a=setTimeout((function(){t.apply(o,s)}),e)}}},{key:"init",value:function(){if("IntersectionObserverss"in window){var t=new IntersectionObserver((function(e,i){e.forEach((function(e,i){if(e.isIntersecting){var n=e.target;n.src=n.dataset.src,t.unobserve(n)}}))}));this.lazyImages.forEach((function(e){t.observe(e)}))}else this.inViewShow(),this._throttleFn=this.throttle(this.inViewShow),this.wrapSelector.addEventListener("scroll",this._throttleFn)}}]),t}());e["a"]=o},e2dc:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"status-empty",on:{click:t.onClick}},[t._m(0),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.type,expression:"type === 1"}],staticClass:"bg empty"},[n("img",{attrs:{src:i("f3f6"),alt:""}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:2===t.type,expression:"type === 2"}],staticClass:"bg netError"},[n("img",{attrs:{src:i("729b"),alt:""}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:3===t.type,expression:"type === 3"}],staticClass:"bg no-scene"},[n("img",{attrs:{src:i("9032"),alt:""}})]),n("p",{staticClass:"empty-tips"},[t._v(t._s(t.tips))])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hidden"},[i("div",{staticClass:"hidden bg empty"}),i("div",{staticClass:"hidden bg netError"})])}],o=(i("a9e3"),{name:"statusEmpty",props:{tips:{type:String,default:"暂时没有任何设备"},type:{type:Number,default:function(){return 1}}},methods:{onClick:function(){this.$emit("on-click")}}}),r=o,s=(i("29d3"),i("2877")),c=Object(s["a"])(r,n,a,!1,null,"1dbe90e4",null);e["a"]=c.exports},e382:function(t,e,i){},ec34:function(t,e,i){"use strict";i("2e43")},ed08:function(t,e,i){"use strict";i.d(e,"h",(function(){return n})),i.d(e,"g",(function(){return l})),i.d(e,"f",(function(){return u})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return a})),i.d(e,"c",(function(){return d})),i.d(e,"b",(function(){return h})),i.d(e,"a",(function(){return f}));i("d3b7"),i("25f0"),i("ac1f"),i("5319"),i("1276");var n=function(t,e){var i=Date.now();return function(){var n=this,a=arguments,o=Date.now();o-i>e&&(t.apply(n,a),i=Date.now())}},a=function(t){if(!Array.isArray(t)||3!==t.length)return t;var e=Math.round(t[0]).toString(16),i=Math.round(t[1]).toString(16),n=Math.round(t[2]).toString(16),a="#"+(e.length<2?"0"+e:e)+(i.length<2?"0"+i:i)+(n.length<2?"0"+n:n);return a},o=function(t){if(!t||"string"!==typeof t||7!==t.length)return t;t=t.replace("#","0x");var e=(16711680&t)>>16,i=(65280&t)>>8,n=255&t;return[e,i,n]},r=function(t,e,i){var n=.49*t+.31*e+.2*i,a=.17697*t+.8124*e+.01063*i,o=0*t+.01*e+.99*i;return{x:n,y:a,z:o}},s=function(t,e,i){var n=t/(t+e+i),a=e/(t+e+i);return Math.round(65536*n)+" "+Math.round(65536*a)},c=function(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92},u=function(t,e,i){var n=r(c(t),c(e),c(i));return s(n.x,n.y,n.z)},l=["#BDE0FE","#C2E1FB","#C7E1F8","#CDE1F5","#D2E2F2","#D7E2EF","#DDE3EC","#E2E3E9","#E7E3E7","#ECE4E4","#F2E4E1","#F7E5DE","#FBE5DB","#FBE3D8","#FBE2D4","#FBE1D1","#FCE0CE","#FCDFCA","#FCDDC7","#FCDCC4","#FCDBC0","#FCDABD","#FDD8BA","#FDD7B6","#FDD6B3","#FDD5AF","#FDD3AC","#FDD2A9","#FDD1A5","#FED0A2","#FECE9F","#FECD9B","#FECC98","#FECB95","#FECA91","#FEC88E","#FFC78A","#FFC687","#FFC584"],d=function(t){if(!t)return t;var e={},i=/([^?&=]+)=([^?&=]+)/g;return t.replace(i,(function(t,i,n){return null!==i&&void 0!==i&&(e[i]=n.split("#/").shift())})),e},h={OnOffSwitch:"ZIGBEE_TYPE_SWITCHER",SceneSelector:"ZIGBEE_TYPE_SCENE_BOARD",HomeGateway:"ZIGBEE_TYPE_HOME_GATEWAY",Plug:"ZIGBEE_TYPE_HOME_PLUG",DoorLock:"ZIGBEE_TYPE_HOME_DOORLOCK",ColorTempLight:"ZIGBEE_TYPE_HOME_COLORTEMPLIGHT",RgbCw:"ZIGBEE_TYPE_HOME_RGBCW",WindowCover:"ZIGBEE_TYPE_HOME_WINDOWCOVER",Screen:"ZIGBEE_TYPE_HOME_SCREEN",P2:"ZIGBEE_TYPE_HOME_SCREEN_P2",AirConditioning:"ZIGBEE_TYPE_HOME_AIRCONDITIONING",VRV2:"ZIGBEE_TYPE_HOME_AIRCONDITIONING_VRV2",TemperatureController:"ZIGBEE_TYPE_HOME_TEMPERATURECONTROLLER",FloorHeater:"ZIGBEE_TYPE_HOME_FLOORHEATER",AirFresher:"ZIGBEE_TYPE_HOME_NEW_WIND",P1S:"ZIGBEE_TYPE_HOME_P1S",MFC:"ZIGBEE_TYPE_HOME_MULTIFUNCTION",P3:"ZIGBEE_TYPE_HOME_SCREEN_P3",WallSocket:"ZIGBEE_TYPE_HOME_OUTLET",P1:"ZIGBEE_TYPE_HOME_P1",P1Mini:"ZIGBEE_TYPE_HOME_P1MINI",p6:"ZIGBEE_TYPE_HOME_P1MINI",PortableSocket1:"ZIGBEE_TYPE_HOME_LS11",PortableSocket2:"ZIGBEE_TYPE_HOME_LS12",RelayOnOff:"ZIGBEE_TYPE_HOME_RELAY_ON_OFF",LivingSensor:"ZIGBEE_TYPE_HOME_LIVING_SENSOR",DoorSensor:"ZIGBEE_TYPE_HOME_DOOR_SENSOR",WaterSensor:"ZIGBEE_TYPE_HOME_WATERSENSOR",HumanSensor:"ZIGBEE_TYPE_HOME_HUMANSENSOR",THSensor:"ZIGBEE_TYPE_HOME_THSENSOR",SmokeSensor:"ZIGBEE_TYPE_HOME_SMOKESENSOR",CGasSensor:"ZIGBEE_TYPE_HOME_CGASSENSOR",KeyFob:"ZIGBEE_TYPE_HOME_KEYFOB",AVAlarm:"ZIGBEE_TYPE_HOME_AVALARM",RGBCW2:"ZIGBEE_TYPE_HOME_ALL_LIGHT",RGB:"ZIGBEE_TYPE_HOME_COLOR_LIGHT",CW:"ZIGBEE_TYPE_HOME_TEMPERATURE_LIGHT",DimmingLamp:"ZIGBEE_TYPE_HOME_BRIGHTNESS_LIGHT"},f=["OnOffSwitch","SceneSelector","HomeGateway","ColorTempLight","WindowCover","RgbCw","AirConditioning","Screen","TemperatureController","P2","P1S","MFC","P3","PortableSocket1","DoorLock","PortableSocket2","WallSocket","P1","P1Mini","p6","P6","RelayOnOff","LivingSensor","DoorSensor","FloorHeater","AirFresher","WaterSensor","HumanSensor","THSensor","SmokeSensor","CGasSensor","KeyFob","AVAlarm","RGBCW2","RGB","CW","DimmingLamp","RC03","AC","STB","AF","TV","InfraredRemote","VRV2","RGBCW3","RGB3","CW3","DimmingLamp3"]},eef1:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{title:"温馨提示",type:"one",content:t.modalContent},model:{value:t.netStatusModal,callback:function(e){t.netStatusModal=e},expression:"netStatusModal"}})},a=[],o=i("5530"),r=i("8628"),s=i("2f62"),c={name:"NetStatusErrorModal",components:{Modal:r["a"]},data:function(){return{netStatusModal:!1,netStatus:{0:"offline",1:"online",4:"offNetwork",5:"online",7:"binding",binding:"入网中",online:"在线",offline:"离线",offNetwork:"离网"},modalContent:""}},computed:Object(o["a"])({},Object(s["c"])(["deviceDetail"])),methods:{checkNetStatus:function(){if("online"!==this.deviceDetail.deviceStateEnum){var t="设备".concat(this.netStatus[this.deviceDetail.deviceStateEnum],"，暂时无法操作");"入网中"===this.netStatus[this.deviceDetail.deviceStateEnum]&&(t="设置配置中，请稍等片刻"),this.modalContent=t,this.netStatusModal=!0}else this.netStatusModal=!1}},watch:{}},u=c,l=i("2877"),d=Object(l["a"])(u,n,a,!1,null,null,null);e["a"]=d.exports},f0e2:function(t,e,i){"use strict";i("8927")},f3f6:function(t,e,i){t.exports=i.p+"img/empty.3cec9302.png"},f4e4:function(t,e,i){"use strict";i("60de")},f729:function(t,e,i){"use strict";i("fbac")},fbac:function(t,e,i){},ffb8:function(t,e,i){"use strict";i("b8be")}}]);
//# sourceMappingURL=chunk-common.a7457349.js.map